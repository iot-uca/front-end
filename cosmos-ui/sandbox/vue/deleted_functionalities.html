
		<!--p><select multiple id="selectDataStream" >
			<option value="Pressure">Pressure</option>
			<option value="Humidity">Humidity</option>
			<option value="Temperature">Temperature</option>
			<option value="UV intensity">UV intensity</option>
		</select></p-->

		<p>
			<div id='example-3'>
				<input type="checkbox"  value="A" v-model="sarasa">
				<label for="jack">A</label>
				<input type="checkbox" value="B" v-model="sarasa">
				<label for="john">B</label>
				<input type="checkbox"  value="C" v-model="sarasa">
				<label for="mike">C</label>
				<input type="checkbox" value="D" v-model="sarasa">
				<label for="mike">D</label>
				<br>
				<span>Checked names: {{ sarasa }}</span>
			</div>
		</p>



  			<my-input v-model="foo"></my-input>
			<span>Foo: {{ foo }}</span>



			Vue.component('my-input', {
				template: ' <div>  My Input: <input v-model="inputVal">  </div>',
				props: ['value'],
				data() {
				  return { inputVal: this.value }
				},
				watch: {
				  inputVal(val) {
				    this.$emit('input', val);
				  }
				}
			});



				/*mounted(){
						this.hasNotFinished=true;
					axios.get('https://min-api.cryptocompare.com/data/pricemulti?fsyms=BTC,ETH&tsyms=USD,EUR').then(response => {
						this.hasNotFinished = false;
			            console.log(" RESPONSE =>>>> " + response);
			            this.results = response.data;
			            console.log(" RESULTS =>>>> " + this.results);
			            console.log(" Cotizacion dolar =>>>> " + this.results.BTC.USD);
		          		})
				},*/










			<p></p>


			<img src="./loading.gif" class="img-responsive" v-if="hasNotFinished">  

			<p></p>

			<button type="button" class="btn btn-primary" v-if="streamButtonClicked" v-on:click="drawMe()">Update Streams!</button>
			<button type="button" class="btn btn-primary" v-else v-on:click="drawMe()">Draw Streams!</button>

			<p></p>

			<content-separator v-if="hasToShowStreams()">Data Streams</content-separator>

			<div-canvas-for-chart v-for="dS in dataStreamSelected" v-bind:id="dS"></div-canvas-for-chart> 
			<p></p> 


			// 	ESTO EMULA LA LLAMADA A LA API DE DATA STREAMS Y LA CARGA DE LOS MISMOS
						/*this.hasNotFinished=true;
						axios.get('https://min-api.cryptocompare.com/data/pricemulti?fsyms=BTC,ETH&tsyms=USD,EUR').then(response => {
							this.hasNotFinished = false;
							this.dataStreams = ["Temperature", "Pressure", "Humidity", "UV intensity"];
							console.log(" DataStreams =>>>> " + dataStreams);
		          		})*/









		<div style="text-align: center;">
			<div style="width: 500px; margin: 0 auto;">
				<strong>Select the data streams you want to visualize...</strong>
				<br>
				<div class="wrapper text-center">		
					<div style="margin: 0 auto" class="btn-group container-fluid" role="group" aria-label="Basic example" v-if="hasToShowStreams()">
						<data-streams-button v-for="dS in dataStreams" v-bind:name="dS" v-bind:class="[selectedDs == dS ? 'btn btn-primary': 'btn btn-secondary']" v-on:click.native="assignDataStream(dS); drawMe(dS)"></data-streams-button>
					</div>
				</div>
			</div>
		</div>



		<div class="row" style="margin: 50px auto;">
		<div class="col-md-8">
			<canvas id="streamCanvas"></canvas>
		</div>

		Vue.component('data-streams-button', {
			/*data: function () {
		    		return {
		      	selectedDs: ''
		    	}
			},*/
			props:['name'],
			template:'<button type="button">{{name}}</button>'
		});


		selectedDs=''

		assignDataStream: function(dS){
			console.log(" Entering assignDataStream function");
			this.selectedDs = dS;
			this.streamWasSelected=true;
		},

					    			label: dS,
					    			
							    	backgroundColor: "#007bff",
					    			pointBackgroundColor: "#007bff",
					    			strokeColor: "#007bff",
					    			pointColor: "#007bff",
					    			pointStrokeColor: "#007bff",
					    			pointHighlightFill: "#007bff",
					    			pointHighlightStroke: "#007bff",




					//expresion = /\(([^)]+)\)/; // GMT-03:00
					//result = expresion.exec(time1)
					//console.log("regex: " + result[1]);

					//console.log("hh: " +result[1].substring(4,6));
					//console.log("signus: " +result[1].substring(3,4));
					//console.log("mm: " +result[1].substring(7,9));
	
					var subs1 = time1.substring(0, 25); // "October 7, 2017 18:15:28
					var subs2 = time2.substring(0, 25); // "October 7, 2017 18:15:28


					//var time = result[1].substring(4,9); // 03:00
					//console.log("time: " + time);
					//hours = time.substring(0,2);
					//mins = time.substring(3,5);



					/*var hhs = moment(subs1,"MMM DD, YYYY HH:mm:ss" ).format("YYYY-MM-DDTHH:mm:ss");

					console.log("hhs: " + hhs);

					var jjjj = hhs.substract(time);

					console.log("jjjj = " + jjjj);*/



TRIGGER FORM

						<br>
  						<h4 class="mb-3 text-center"><strong>Add Trigger</strong></h4>
  						<h6 class="text-muted text-center"><em><small>You trigger an ACTION based on a CONDITION that needs to be checked according to some POLICY</em></small></h6>
  						<hr>

						<form class="needs-validation" novalidate="">

							<div class="mb-3">
								<label for="triggerName">Name</label>
								<div class="input-group">
									<div class="input-group-prepend">
										<span class="input-group-text"><i class="fa fa-font"></i></span>
									</div>
									<input type="text" class="form-control" id="triggerName" placeholder="Trigger Name" required="true">
									<div class="invalid-feedback" style="width: 100%;">
										The Trigger name is required.
									</div>
								</div>
							</div>

							<div class="mb-3" v-if="!renderOneTimeTrigger">
								<label for="triggerName">Action associated</label>
								<div class="input-group">
									<div class="input-group-prepend">
										<span class="input-group-text"><i class="fa fa-star-o"></i></span>
									</div>
									<select class="form-control custom-select" id="days" placeholder="" required="true">
										<option value="monday">Tweet</option>
										<option value="tuesday">Make Facebook Post</option>
										<option value="wednesday">Send Email</option>
										<option value="thursday">Start Engine Alfa</option>
										<option value="friday">Sense Temperature</option>
									</select>
									<div class="invalid-feedback" style="width: 100%;">
										The Trigger name is required.
									</div>
								</div>
							</div>


							<hr>
							<div>
								<label class="custom-control-label" for="triggerPolicy"><h4><strong>Policy</strong></h4></label>
							</div>
							<hr>

							<div class="row">
								<div class="col-md-6 mb-3">
									<div class="custom-control custom-radio">
										<input id="credit" name="paymentMethod" type="radio" class="custom-control-input" checked="" required="" v-on:click="dataPointPolicy()">
										<label class="custom-control-label" for="credit">Data Point Registration</label>
									</div>
								</div>
								<div class="col-md-6 mb-3">
									<div class="custom-control custom-radio">
										<input id="debit" name="paymentMethod" type="radio" class="custom-control-input" required="" v-on:click="timePeriodPolicy()">
										<label class="custom-control-label" for="debit">Time Period</label>
									</div>
								</div>
							</div>

							<div v-if="isTimePeriodPolicy">

								<div class="mb-3">
									<label for="triggerName">Starting from</label>
									<div class="input-group">
										<div class="input-group-prepend">
											<span class="input-group-text"><i class="fa fa-calendar-plus-o"></i></span>
										</div>  
										<input class="form-control" type="datetime-local" value="2011-08-19T13:45:00" id="a">
										<div class="invalid-feedback" style="width: 100%;">
											The Trigger name is required.
										</div>
									</div>
								</div>


								<div class="mb-3" v-if="!renderOneTimeTrigger">
									<label for="triggerName">Ending on</label>
									<div class="input-group">
										<div class="input-group-prepend">
											<span class="input-group-text"><i class="fa fa-calendar-times-o"></i></span>
										</div>  
										<input class="form-control" type="datetime-local" value="2011-08-19T13:45:00" id="a">
										<div class="invalid-feedback" style="width: 100%;">
											The Trigger name is required.
										</div>
									</div>
								</div>

							</div>


							<div v-else>

								<div class="mb-3">
									<label for="triggerName">From Data Stream</label>
									<div class="input-group">
										<div class="input-group-prepend">
											<span class="input-group-text"><i class="fa fa-diamond"></i></span>
										</div>
										<select class="form-control custom-select" id="days" placeholder="" required="true">
											<option v-for="dS in dataStreams" value="dS">{{dS}}</option>
										</select>
										<div class="invalid-feedback" style="width: 100%;">
											The Trigger name is required.
										</div>
									</div>
								</div>
							</div>

							<hr>
							<div>
								<label class="custom-control-label" for="triggerPolicy"><h4><strong>Condition</strong></h4></label>
							</div>
							<hr>

							<div class="mb-3" v-if="!renderOneTimeTrigger">
								<div class="input-group">
									<div class="input-group-prepend">
										<span class="input-group-text"><i class="fa fa-exclamation"></i></span>
									</div>
									<select class="form-control custom-select" id="days" placeholder="" required="true" v-model="conditionSelected">
										<option v-for="condition in triggerConditions" v-bind:value="{ id: condition.id, text: condition.name }">{{ condition.name }}</option>
									</select>
									<div class="invalid-feedback" style="width: 100%;">
										The Trigger name is required.
									</div>
								</div>
							</div>

							<div class="mb-3" v-if="conditionSelected.id==2 || conditionSelected.id==3">
								<label for="dataStreamName">From Data Stream</label>
								<div class="input-group">
									<div class="input-group-prepend">
										<span class="input-group-text"><i class="fa fa-diamond"></i></span>
									</div>
									<select class="form-control custom-select" id="days" placeholder="" required="true">
										<option v-for="dS in dataStreams" value="dS">{{dS}}</option>
									</select>
									<div class="invalid-feedback" style="width: 100%;">
										The Trigger name is required.
									</div>
								</div>
							</div>
							

							<div v-if="conditionSelected.id==2">
								<div class="row">
									<div class="col-md-4 mb-3">
										<label for="cc-number">Value</label>
										<input class="form-control" type="text" placeholder="Data-Stream current value" readonly>
									</div>
									<div class="col-md-4 mb-3">
										<label for="cc-name">Condition</label>
										<select class="form-control custom-select" id="currentValueCond" placeholder="" required="true">
											<option value="monday">greater than</option>
											<option value="monday">less than</option>
											<option value="monday">equal to</option>
											<option value="monday">different to</option>
										</select>
										<div class="invalid-feedback">
											Name on card is required
										</div>
									</div>
									<div class="col-md-4 mb-3">
										<label for="cc-number">Defined value</label>
										<input type="text" class="form-control" id="cc-number" placeholder="0" required="">
										<div class="invalid-feedback">
											Credit card number is required
										</div>
									</div>
								</div>
							</div>


							<div v-if="conditionSelected.id==3">
								<label for="triggerName">For more than...</label>
								<div class="row">
									<div class="col-md-2 mb-3">
										<label for="cc-number">Months</label>
										<input type="text" class="form-control" id="cc-number" placeholder="0" required="" v-model="dataStreamNotUpdatedFrom.months">
										<div class="invalid-feedback">
											Credit card number is required
										</div>
									</div>
									<div class="col-md-2 mb-3">
										<label for="cc-name">Weeks</label>
										<input type="text" class="form-control" id="cc-name" placeholder="0" required="" v-model="dataStreamNotUpdatedFrom.weeks">
										<div class="invalid-feedback">
											Name on card is required
										</div>
									</div>
									<div class="col-md-2 mb-3">
										<label for="cc-number">Days</label>
										<input type="text" class="form-control" id="cc-number" placeholder="0" required="" v-model="dataStreamNotUpdatedFrom.days">
										<div class="invalid-feedback">
											Credit card number is required
										</div>
									</div>
									<div class="col-md-2 mb-3">
										<label for="cc-number">Hours</label>
										<input type="text" class="form-control" id="cc-number" placeholder="0" required="" v-model="dataStreamNotUpdatedFrom.hours">
										<div class="invalid-feedback">
											Credit card number is required
										</div>
									</div>
									<div class="col-md-2 mb-3">
										<label for="cc-number">Minutes</label>
										<input type="text" class="form-control" id="cc-number" placeholder="0" required="" v-model="dataStreamNotUpdatedFrom.minutes">
										<div class="invalid-feedback">
											Credit card number is required
										</div>
									</div>
									<div class="col-md-2 mb-3">
										<label for="cc-number">Seconds</label>
										<input type="text" class="form-control" id="cc-number" placeholder="0" required="" v-model="dataStreamNotUpdatedFrom.seconds">
										<div class="invalid-feedback">
											Credit card number is required
										</div>
									</div>
								</div>
								<label for="triggerName" style="font-style: italic;">For more than {{dataStreamNotUpdatedFrom.months}} months, {{dataStreamNotUpdatedFrom.weeks}} weeks, {{dataStreamNotUpdatedFrom.days}} days, {{dataStreamNotUpdatedFrom.hours}} hours, {{dataStreamNotUpdatedFrom.minutes}} minutes and {{dataStreamNotUpdatedFrom.seconds}} seconds</label>     
							</div>

							<div v-if="conditionSelected.id==4">
								<div class="mb-3">
									<label for="triggerName">From</label>
									<div class="input-group">
										<div class="input-group-prepend">
											<span class="input-group-text"><i class="fa fa-calendar-plus-o"></i></span>
										</div>  
										<input class="form-control" type="datetime-local" value="2011-08-19T13:45:00" id="a">
										<div class="invalid-feedback" style="width: 100%;">
											The Trigger name is required.
										</div>
									</div>
								</div>

								<div class="mb-3" v-if="!renderOneTimeTrigger">
									<label for="triggerName">To</label>
									<div class="input-group">
										<div class="input-group-prepend">
											<span class="input-group-text"><i class="fa fa-calendar-times-o"></i></span>
										</div>  
										<input class="form-control" type="datetime-local" value="2011-08-19T13:45:00" id="a">
										<div class="invalid-feedback" style="width: 100%;">
											The Trigger name is required.
										</div>
									</div>
								</div>
							</div>


							<div class="row">
								<div class="col-md-3">
								</div>
								<div class="col-md-3">
								</div>
								<div class="col-md-3">
									<button class="btn btn-primary btn-lg btn-block"><strong>Add new condition</strong></button>
								</div>
								<div class="col-md-3">
									<button class="btn btn-danger btn-lg btn-block"><strong>Forget condition</strong></button>
								</div>
							</div>



							<hr class="mb-3">
							<button class="btn btn-primary btn-lg btn-block" type="submit"><h5><strong>Add trigger</strong></h5></button>
						</form>












				      			//check Action name 
				      			filteredField = this.existingTrigggers[i].action;
				      			this.abc = this.addTriggerToFilteredOnes(filteredField, this.triggerFilter, this.abc, this.existingTrigggers[i]);

				      			//check Trigger policy type 
				      			filteredField = this.existingTrigggers[i].policy.type;
				      			this.abc = this.addTriggerToFilteredOnes(filteredField, this.triggerFilter, this.abc, this.existingTrigggers[i]);

				      			/*if(filteredField == "time_interval"){
				      					
					      			//check Trigger policy time interval 
					      			filteredField = this.existingTrigggers[i].policy.time_interval;
					      			this.filteredTriggers = this.addTriggerToFilteredOnes(filteredField, this.triggerFilter, this.filteredTriggers, this.existingTrigggers[i]);
				      			}else{
					      			//check Trigger policy data stream 
					      			filteredField = this.existingTrigggers[i].policy.data_stream;
					      			this.filteredTriggers = this.addTriggerToFilteredOnes(filteredField, this.triggerFilter, this.filteredTriggers, this.existingTrigggers[i]);
				      			}

				      			
				      			filteredField = this.existingTrigggers[i].policy.elem;
				      			this.abc = this.addTriggerToFilteredOnes(filteredField, this.triggerFilter, this.abc, this.existingTrigggers[i]);

	      						//check for each of the Trigger conditions 
				      			amountOfTriggerConditions = this.existingTrigggers[i].conditions;
						      	for(j=0; j<amountOfTriggerConditions; j++){

					      			filteredField = this.existingTrigggers[i].conditions[j];
					      			this.abc = this.addTriggerToFilteredOnes(filteredField, this.triggerFilter, this.abc, this.existingTrigggers[i]);
						      	}






						      		  		<!-- div for showing the Triggers remove view -->
	  		<div v-if="renderTriggerRemoveView">

	  			<div class="container">
	  				<div class="row">
	  					<br>

	  					<div class="col-md-2">
	  					</div>

	  					<div class="col-md-8">
	  						<h4 class="mb-3 text-center"><strong>Remove Trigger</strong></h4>
	  						<hr>
	  						<form class="needs-validation" novalidate="">

	  							<div class="mb-3">
	  								<label for="securityKey">Security key</label>
	  								<div class="input-group">
	  									<div class="input-group-prepend">
	  										<span class="input-group-text"><i class="fa fa-key"></i></span>
	  									</div>
	  									<input type="text" class="form-control" id="securityKey" placeholder="Enter you security key" required="true">
	  									<div class="invalid-feedback" style="width: 100%;">
	  										The Trigger name is required.
	  									</div>
	  								</div>
	  							</div>

	  							<div class="mb-3">
	  								<label for="triggerSearchName">Search trigger</label>
	  								<div class="input-group">
	  									<div class="input-group-prepend">
	  										<span class="input-group-text"><i class="fa fa-search"></i></span>
	  									</div>
	  									<input type="text" class="form-control" id="triggerSearchName" placeholder="Start typing trigger name..." required="true">
	  									<div class="invalid-feedback" style="width: 100%;">
	  										The Trigger name is required.
	  									</div>
	  								</div>
	  							</div>

	  							<hr>

	  							<div class="mb-3">
	  								<label for="triggerSummary">Trigger summary</label>
	  							</div>

	  							<hr class="mb-3">
	  							<button class="btn btn-danger btn-lg btn-block" type="submit"><h5><strong>Remove trigger</strong></h5></button>
	  						</form>
	  					</div>

	  					<div class="col-md-2">
	  					</div>
	  				</div>
	  			</div>
	  		</div>






	  		
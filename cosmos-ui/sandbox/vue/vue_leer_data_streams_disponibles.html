<!DOCTYPE html>
<html>
<head>

	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Cosmos GUI</title>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.0.3/vue.js"></script> <!-- Vue as primary JS fwmk -->
	<!--script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script--> <!-- JQuery for certain DOM elem manipulations -->
	<!--link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet" type="text/css" /--> <!-- Bootstrap for styling -->
	<script src= "https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.bundle.min.js"></script> <!-- ChartJS for dashboard charts -->
	<script src="https://unpkg.com/axios/dist/axios.min.js"></script> <!-- Axios as Http client -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.1/moment.min.js"></script> <!-- Moment JS for Date manipulation -->

	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js"></script>

	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">	 <!--  For calendar icon  -->


	<!--   FOR THE TIME PICKER   -->
	<!--script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script-->
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.21.0/moment.min.js"></script>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/tempusdominus-bootstrap-4/5.0.0-alpha18/js/tempusdominus-bootstrap-4.min.js"></script>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tempusdominus-bootstrap-4/5.0.0-alpha18/css/tempusdominus-bootstrap-4.min.css" />
	

	<style type="text/css">
	#contentSeparator{
		color: "#2b2c37";
		text-align: left;
		border-bottom: black solid;
		box-shadow: 10px 10px 5px grey;
		border: 1px solid grey;
		font-size: 25px;
	}

	#contentSeparator{
		color: "#2b2c37";
		text-align: left;
		border-bottom: black solid;
	}

	#selectDataStream{
		size: 10 ppx;
		font-family: "Helvetica", sans-serif;
	}

	#buttonShowCharts{
		size: 10 ppx;
		font-family: "Helvetica", sans-serif;
	}

	#cosmosTitle{
		color: white;
		size: 40 ppx;
		text-align: center;
		font-family: "Helvetica", sans-serif;
	}

	#optionTitle{
		color: #170E2C;
		size: 58ppx;
	}

	#menuButton{
		color: #5bc0de;
	}

	#opt{
		color: #170E2C;
		size: 22ppx;	
	}

	/* Style The Dropdown Button */
	.dropbtn {
		background-color: #250869;
		color: white;
		padding: 16px;
		font-size: 16px;
		border: black;
		cursor: pointer;
	}

	/* The container <div> - needed to position the dropdown content */
	.dropdown {
		position: relative;
		display: inline-block;
	}

	/* Dropdown Content (Hidden by Default) */
	.dropdown-content {
		display: none;
		position: absolute;
		background-color: #250869;
		min-width: 160px;
		box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
		z-index: 1;
	}

	/* Links inside the dropdown */
	.dropdown-content a {
		color: white;
		padding: 12px 16px;
		text-decoration: none;
		display: block;
	}

	/* Change color of dropdown links on hover */
	.dropdown-content a:hover {background-color: #250869}

	/* Show the dropdown menu on hover */
	.dropdown:hover .dropdown-content {
		display: block;
	}

	/* Change the background color of the dropdown button when the dropdown content is shown */
	.dropdown:hover .dropbtn {
		background-color: #250869;
	}

	/* The side navigation menu */
	.sidenav {
		height: 100%; /* 100% Full-height */
		width: 0; /* 0 width - change this with JavaScript */
		position: fixed; /* Stay in place */
		z-index: 1; /* Stay on top */
		top: 0;
		left: 0;
		background-color: #111; /* Black*/
		overflow-x: hidden; /* Disable horizontal scroll */
		padding-top: 60px; /* Place content 60px from the top */
		transition: 0.5s; /* 0.5 second transition effect to slide in the sidenav */
	}

	/* The navigation menu links */
	.sidenav a {
		padding: 8px 8px 8px 32px;
		text-decoration: none;
		font-size: 20px;
		color: #818181;
		display: block;
		transition: 0.3s
	}

	/* When you mouse over the navigation links, change their color */
	.sidenav a:hover, .offcanvas a:focus{
		color: #f1f1f1;
	}

	/* Position and style the close button (top right corner) */
	.sidenav .closebtn {
		position: absolute;
		top: 0;
		right: 25px;
		font-size: 36px;
		margin-left: 50px;
	}

	/* Style page content - use this if you want to push the page content to the right when you open the side navigation */
	#ui-header {
		/*transition: margin-left .5s; --- esta opciÃ³n es para desplazar el contenido a la derecha*/
		padding: 20px;
		/*background-color: #290B6E;*/
		/*background-color: #151E21;   EL MAS PARECIDO Y MEJOR COLOR!!!!*/
		/*background-color: #1E2B2F;*/
		/*background-color: #323855;*/

		/*nuevas opciones de colores que consegui googleando:*/
		/*background-color: #32333E;*/
		/*background-color: #373843;*/
		/*background-color: #3c3d48;*/
		/*background-color: #353440;*/
		/*background-color: #373843;*/
		background-color: #2b2c37;

	}

	/* On smaller screens, where height is less than 450px, change the style of the sidenav (less padding and a smaller font size) */
	@media screen and (max-height: 450px) {
		.sidenav {padding-top: 15px;}
		.sidenav a {font-size: 18px;}
	}

	.btn-info {
		color: #ffffff;
		background-color: #5bc0de;
		border-color: #5bc0de;
	}

	.btn-info:focus, .btn-info.focus {
		color: #ffffff;
		background-color: #31b0d5;
		border-color: #1f7e9a;
	}

	.btn {
		display: inline-block;
		margin-bottom: 0;
		font-weight: normal;
		text-align: center;
		vertical-align: middle;
		-ms-touch-action: manipulation;
		touch-action: manipulation;
		cursor: pointer;
		background-image: none;
		border: 1px solid transparent;
		white-space: nowrap;
		padding: 8px 12px;
		font-size: 14px;
		line-height: 1.42857143;
		border-radius: 4px;
		-webkit-user-select: none;
		-moz-user-select: none;
		-ms-user-select: none;
		user-select: none;
		text-decoration: none;
		box-sizing: border-box;
		margin: 0 0 10px;
	}

	.btn:hover{
		background-color: #229BC0;
	}
	#lineChart{
		max-height: 90%;
		max-width: 90%;
	}
	#secondLineChart{
		max-height: 90%;
		max-width: 90%;
	}
	#thirdLineChart{
		max-height: 90%;
		max-width: 90%;
	}
	#myChart{
		max-height: 78%;
		max-width: 78%;
	}
	.panel panel-default{

	}

			/*#commands{
			margin-left: 2%;
			max-width: 50%;
			font-size: 15px;
			}*/

			/*  									====>  esto es para ponerle un fondo con el borde recortado */
			/*#commands {
			border-radius: 5px;
			background-color: #f2f2f2;
			padding: 15px;
			}*/

			#app{
				background-color: #444651;
			}

			/*	.fixed-panel {
	  		min-height: 10;
	  		max-height: 10;
	  		overflow-y: scroll;  ---> sirve para que te aparezcan los botoncitos de subir/bajar en el contenido
	  		}*/

	  		.w-auto {
	  			width: auto;
	  		}
	  	</style>

	  </head>




	  <body>

	  	<div id="app" class="bg-light">

	  		<div id="mySidenav" class="sidenav" v-bind:style="sideNavStyle">
	  			<!-- Side Nav for burguer menu -->
	  			<a href="javascript:void(0)" class="closebtn" v-on:click="closeNav()">&times;</a>
	  			<a href="#" v-on:click="showDashboardView(); closeNav();"><i class="fa fa-dashboard" style="font-size:20px"></i> DASHBOARD</a>

	  			<a href="#" v-on:click="showDataStreamView(); closeNav();"><i class="fa fa-cubes" style="font-size:20px"></i> DATA STREAM</a>

	  			<a href="#" v-on:click="showActionsAddRemoveOptions()"><i class="fa fa-hand-paper-o" style="font-size:20px"></i> ACTIONS</a>
	  			<div v-if="showActionsOptions">
	  				<a href="#" v-on:click="showActionAddView(); closeNav();" style="font-size: 15px; padding-left: 70px;"><i class="fa fa-check" style="font-size:15px"></i>  ADD ACTION</a>
	  				<a href="#" v-on:click="showActionRemoveView(); closeNav();" style="font-size: 15px; padding-left: 70px;"><i class="fa fa-remove" style="font-size:15px"></i>  REMOVE ACTION</a>
	  			</div>

	  			<a href="#" v-on:click="showTriggersAddRemoveOptions()"><i class="fa fa-bell-o" style="font-size:20px"></i> TRIGGERS</a>
	  			<a href="#" v-if="showTriggersOptions" v-on:click="showTriggerAddView(); closeNav();" style="font-size: 15px; padding-left: 70px;"><i class="fa fa-plus" style="font-size:15px"></i>  ADD TRIGGER</a>
	  			<a href="#" v-if="showTriggersOptions" v-on:click="showTriggerRemoveView(); closeNav();" style="font-size: 15px; padding-left: 70px;"><i class="fa fa-remove" style="font-size:15px"></i>  REMOVE TRIGGER</a>

	  			<a href="#" v-on:click="showCommandsAddRemoveOptions()"><i class="fa fa-microphone" style="font-size:20px"></i> COMMANDS</a>
	  			<a href="#" v-if="showCommandsOptions" v-on:click="showCommandAddView(); closeNav();" style="font-size: 15px; padding-left: 70px;"><i class="fa fa-plus" style="font-size:15px"></i>  ADD COMMAND</a>
	  			<a href="#" v-if="showCommandsOptions" v-on:click="showCommandRemoveView(); closeNav();" style="font-size: 15px; padding-left: 70px;"><i class="fa fa-remove" style="font-size:15px"></i>  REMOVE COMMAND</a>

	  			<a href="#" v-on:click="showSecurityView(); closeNav();"><i class="fa fa-lock" style="font-size:20px"></i>   SECURITY</a>
	  			<a href="#" v-on:click="showAboutView(); closeNav();"><i class="fa fa-info" style="font-size:20px"></i>   ABOUT</a>
	  		</div>


	  		<!-- GUI Header -->
	  		<div id="ui-header">
	  			<!--span style="font-size:30px;cursor:pointer" v-on:click="openNav()">&#9776;</span--> <!-- &#9776; represents the burguer icon -->

	  			<div class="row">
	  				<div class="col-md-2">
	  					<span style="font-size:30px;cursor:pointer" v-on:click="openNav()"><i class="fa fa-bars" style="color:white;"></i></span>
	  				</div>
	  				<div class="col-md-10 text-center py-2">
	  					<h1 id="cosmosTitle" style="padding-right: 28%;"><strong>Cosmos GUI</strong></h1>
	  				</div>
	  			</div>
	  		</div>


	  		<!-- div for Dashboard view -->
	  		<div v-if="renderDashboardView" id="dashboard">

	  			<content-separator v-if="hasToShowStreams()"><i class="fa fa-line-chart" style="font-size:24px"></i> Data Streams</content-separator>

	  			<!-- Div for the stream selection -->
	  			<div style="text-align: center;">
	  				<div>
	  					<!--strong>Select the data streams you want to visualize...</strong-->
	  					<br>
	  					<i v-if="!hasToShowStreams()" class="fa fa-spinner fa-spin" style="font-size: 70px"></i>
	  					<div class="wrapper text-center">
	  						<div style="width: auto; margin: 0 auto;" class="btn-group container-fluid" role="group" aria-label="Basic example" v-if="hasToShowStreams()">
	  							<data-streams-button v-for="dS in dataStreams" v-bind:name="dS" v-bind:class="[selectedDs == dS ? 'btn btn-primary': 'btn btn-secondary']" v-on:click.native="assignDataStream(dS)"></data-streams-button>
	  						</div>
	  					</div>
	  				</div>
	  			</div>

	  			<br>

	  			<div v-if="hasToShowCharAndCards">
	  				<!-- Div for the Stream chart and stat Cards -->
	  				<div class="row" style="margin: 50px auto;">
	  					<div class="col-md-8">
	  						<canvas id="streamCanvas"></canvas>
	  					</div>
	  					<div class="col-md-4">
	  						<div class="row container-fluid">
	  							<div class="card">
	  								<div class="card-header bg-primary"><strong style="font-size:13px; color: black;"><i class="fa fa-arrow-circle-right" style="font-size:20px"></i> CURRENT VALUE</strong></div>
	  								<div class="card-body text-center">
	  									<h2><p class="card-text"><strong>{{currentValue.value}}</strong></p></h2>
	  								</div>
	  								<div class="card-footer">
	  									<small class="text-muted"><strong>WHEN:  </strong>{{currentValue.timestamp}} ago</small>
	  								</div>
	  							</div>
	  							<div style="width: 25px;"> </div>
	  							<div class="card">
	  								<div class="card-header bg-primary"><strong style="font-size:13px; color: black;"><i class="fa fa-percent" style="font-size:20px"></i> AVERAGE VALUE</strong></div>
	  								<div class="card-body text-center">
	  									<h2><p class="card-text"><strong>{{averageValue.value}}</strong></p></h2>
	  								</div>
	  								<div class="card-footer">
	  									<small class="text-muted">During {{averageValue.timestamp}} mins</small>
	  								</div>
	  							</div>
	  						</div>

	  						<br>

	  						<div class="row container-fluid">
	  							<div class="card">
	  								<div class="card-header bg-primary"><strong style="font-size:13px; color: black;"><i class="fa fa-arrow-circle-down" style="font-size:20px"></i> MIN VALUE</strong></div>
	  								<div class="card-body text-center">
	  									<h2><p class="card-text"><strong>{{minValue.value}}</strong></p></h2>
	  								</div>
	  								<div class="card-footer">
	  									<small class="text-muted"><strong>WHEN:  </strong>{{minValue.timestamp}} ago</small>
	  								</div>
	  							</div>
	  							<div style="width: 25px;"> </div>			
	  							<div class="card">
	  								<div class="card-header bg-primary"><strong style="font-size:13px; color: black;"><i class="fa fa-arrow-circle-up" style="font-size:20px"></i> MAX VALUE</strong></div>
	  								<div class="card-body text-center">
	  									<h2><p class="card-text"><strong>{{maxValue.value}}</strong></p></h2>
	  								</div>
	  								<div class="card-footer">
	  									<small class="text-muted"><strong>WHEN:  </strong>{{maxValue.timestamp}} ago</small>
	  								</div>
	  							</div>
	  						</div>
	  					</div>
	  				</div>
	  			</div>

	  			<!--content-separator v-if="hasToShowStreams()"><i class="fa fa-pie-chart" style="font-size:24px"></i> Actions, Commands & Triggers</content-separator-->
	  			<content-separator ><i class="fa fa-pie-chart" style="font-size:24px"></i> Actions, Commands & Triggers</content-separator>
	  			<br>

	  			<!-- Div for showing the recently/most executed actions -->
	  			<div class="row" id="actions" v-if="renderDashboardView" style="margin: 50px auto;">

	  				<div class="col-md-6">
	  					<div class="card">
	  						<div class="card-header bg-info">
	  							<h3 class="card-title"><i class="fa fa-clock-o fa-fw"></i> Last Actions Executed</h3>
	  						</div>
	  						<div class="card-body">
	  							<div class="list-group">
	  								<a href="#" class="list-group-item d-flex justify-content-between align-items-center">
	  									<i class="fa fa-fw fa-calendar pull-left"></i> Calendar updated
	  									<span class="badge badge-secondary badge-pill">just now</span>
	  									<!--span class="badge">just now</span-->
	  								</a>
	  								<a href="#" class="list-group-item d-flex justify-content-between align-items-center">
	  									<!--span class="badge">4 minutes ago</span-->
	  									<i class="fa fa-fw fa-comment"></i> Commented on a post
	  									<span class="badge badge-secondary badge-pill">4 minutes ago</span>
	  								</a>
	  								<a href="#" class="list-group-item d-flex justify-content-between align-items-center">
	  									<!--span class="badge">23 minutes ago</span-->
	  									<i class="fa fa-fw fa-truck"></i> Order 392 shipped
	  									<span class="badge badge-secondary badge-pill">23 minutes ago</span>
	  								</a>
	  								<a href="#" class="list-group-item d-flex justify-content-between align-items-center">
	  									<!--span class="badge">46 minutes ago</span-->									
	  									<i class="fa fa-fw fa-money"></i> Invoice 653 has been paid
	  									<span class="badge badge-secondary badge-pill">46 minutes ago</span>
	  								</a>
	  							</div>
	  						</div>
	  					</div>
	  				</div>
	  				<!-- div for drawing the actions/commands pie chart -->
	  				<div class="col-md-6">
	  					<strong>Most Executed Actions</strong>
	  					<canvas id="actionsChart"></canvas>
	  				</div>
	  			</div>
	  		</div>


	  		<!-- div for showing the Data Stream add view -->
	  		<div v-if="renderDataStreamView">
	  			<!--div class="container"-->
	  				<div class="row">
	  					<br>

	  					<div class="col-md-1">
	  					</div>

	  					<div class="col-md-10">

	  						<h4 class="mb-3 text-center"><strong>Existing data streams</strong></h4>
	  						<hr>

	  						<div class="row">

								<div class="col-md-2">
	  							    <div class="form-group form-inline well">
									      <label for="sel1" class="text-muted">Entries for page: </label>
	  										<select class="form-control custom-select" id="httpMethod" v-model="amountOfEntriesPerPage" required="true">
  												<option v-for="(elem, index) in optionsOfEntriesPerPage" v-bind:value="elem.value">
  													{{elem.value}}
  												</option>
	  										</select>
									</div>
								</div>

	  							<div class="col-md-6">
	  								<div class="mb-3">
	  									<!--label for="triggerSearchName"><strong>Filter trigger</strong></label-->
	  									<div class="input-group">
	  										<div class="input-group-prepend">
	  											<span class="input-group-text"><i class="fa fa-search"></i></span>
	  										</div>

	  										<input type="text" class="form-control" v-model="dataStreamFilter" placeholder="Start typing to filter data streams..." required="true">

	  									</div>
	  								</div>
	  							</div>
	  							
	  							<div class="col-md-2">
	  								<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#addDataStreamModal" style="width: 100%;"><strong>Add stream</strong></button>	
	  							</div>
	  							
	  							<div class="col-md-2">
	  								<button type="button" class="btn btn-danger disabled" data-toggle="modal" data-target="#addDataStreamModal" style="width: 100%;"><strong>Delete</strong></button>	
	  							</div>
	  						</div>

	  						<table class="table table-striped table-responsive table-sm" style="width: 100%">
	  							<thead class="thead-dark">
	  								<tr>
	  									<th scope="col" style="width: 2%"></th>
	  									<th scope="col" style="width: 92%">Name</th>
	  									<th scope="col" style="width: 3%"></th>
	  									<th scope="col" style="width: 3%"></th>
	  									<!--th scope="col" style="width: 2%"></th-->
	  								</tr>
	  							</thead>
	  							<tbody>
	  								<!--tr v-for="t in triggersForPage" v-bind:trigger="t" is="trigger-table-row"></tr--> 
	  								<!--Refenrenced in ..... https://github.com/vuejs/Discussion/issues/204 -->

	  								<tr v-for="(dataStream, index) in dataStreamsForPage">
	  									<td>
											<div class="custom-control custom-checkbox">
												<input type="checkbox" :id="index" class="custom-control-input">
												<label :for="index" class="custom-control-label"></label>
											</div>
	  									</td>
	  									<td>{{dataStream.name}}</td>
	  									<td>
	  										<button type="button" class="btn btn-warning btn-block" data-toggle="modal" data-target="#editDataStreamModal" style="height: 75%;">
	  											<i class="fa fa-eye"></i>
	  										</button>
	  									</td>
	  									<td>
	  										<button type="button" class="btn btn-info btn-block" v-on:click="editDataStream(dataStream)" data-toggle="modal" data-target="#editDataStreamModal" style="height: 75%;">
	  											<i class="fa fa-pencil-square-o"></i>
	  										</button>
	  									</td>
	  									<!--td>
	  										<button type="button" class="btn btn-danger btn-block" data-toggle="modal" @click="removeDataStream(dataStream)" data-target="#deleteDataStreamModal" style="height: 75%;">
	  											<i class="fa fa-remove"></i>
	  										</button>
	  									</td-->
	  								</tr>
	  							</tbody>
	  						</table>

	  						<div class="row">
	  							<br>
	  							<p></p>
	  							<br>
	  							<div class="col-md-4 text-muted">
	  								<p>Showing <strong>{{dataStreamsForPage.length}}</strong> out of <strong>{{dataStreamsConfigured.length}}</strong> entries</p>
	  							</div>
	  							<div class="col-md-8">
			  						<!--     Table pagination     -->
			  						<nav aria-label="Page navigation data streams">
			  							<ul class="pagination justify-content-end">
			  								<li v-bind:class="[currentPage > 1 ? 'page-item': 'page-item disabled']">
			  									<a v-on:click="dataStreamsForPage = displayPrevPage(maxDataStreamsPerPage, dataStreamsForPage, filteredDataStreams)" class="page-link" href="#" tabindex="-1">Previous</a>
			  								</li>
			  								<li v-for="number in pagesNeededForDataStreams" v-bind:class="[currentPage == number ? 'page-item active': 'page-item']" v-on:click="dataStreamsForPage = getElementsToShowInTable(number, maxDataStreamsPerPage, dataStreamsForPage, filteredDataStreams)"><a class="page-link" href="#">{{number}}</a></li>
			  								<li v-bind:class="[currentPage<pagesNeededForDataStreams ? 'page-item': 'page-item disabled']">
			  									<a v-on:click="dataStreamsForPage = displayNextPage(maxDataStreamsPerPage, dataStreamsForPage, filteredDataStreams)" class="page-link" href="#">Next</a>
			  								</li>
			  							</ul>
			  						</nav>
			  					</div>

		  					</div>


	  					</div>

	  					<div class="col-md-1">
	  					</div>
	  				</div>
	  			<!--/div-->
	  		</div>


	  		<!-- div for showing the Keys menu view -->
	  		<div id="keys" v-if="renderSecurityView"> 
	  			<div class="container">
	  				<div class="row">
	  					<div class="col-md-2">
	  					</div>

	  					<div class="col-md-8">
	  						<h4 class="mb-3 text-center"><strong>Associate the actions required</strong></h4>
	  						<hr>
	  						<form class="needs-validation" novalidate="">

	  							<div class="custom-control custom-checkbox">
	  								<input type="checkbox" class="custom-control-input" id="same-address">
	  								<label class="custom-control-label" for="same-address">Read</label>
	  							</div>

	  							<div class="custom-control custom-checkbox">
	  								<input type="checkbox" class="custom-control-input" id="save-info">
	  								<label class="custom-control-label" for="save-info">Write</label>
	  							</div>

	  							<div class="custom-control custom-checkbox">
	  								<input type="checkbox" class="custom-control-input" id="delete-info">
	  								<label class="custom-control-label" for="delete-info">Delete</label>
	  							</div>

	  							<br>

	  							<button class="btn btn-primary btn-lg btn-block" type="submit"><h5><strong>Generate Key</strong></h5></button>

	  							<div class="text-muted text-center">
	  								<br>
	  								<span><em><h3>{{securityKey}}</h3></em></span>
	  							</div>

	  						</form>
	  					</div>

	  					<div class="col-md-2">
	  					</div>
	  				</div>
	  			</div>

	  		</div>


	  		<!-- div for showing the Actions add view -->
	  		<div id="actions" v-if="renderActionAddView"> 
	  			<div class="row">
	  				<br>

	  				<div class="col-md-1">
	  				</div>

	  				<div class="col-md-10">

	  					<h4 class="mb-3 text-center"><strong>Existing actions</strong></h4>
	  					<hr>

	  					<div class="row">
	  						<div class="col-md-10">
	  							<div class="mb-3">
	  								<!--label for="triggerSearchName"><strong>Filter trigger</strong></label-->
	  								<div class="input-group">
	  									<div class="input-group-prepend">
	  										<span class="input-group-text"><i class="fa fa-search"></i></span>
	  									</div>

	  									<input type="text" class="form-control" v-model="actionFilter" placeholder="Start typing to filter actions..." required="true">

	  								</div>
	  							</div>
	  						</div>
	  						<div class="col-md-2">
	  							<!-- Button trigger modal -->
	  							<!--br-->
	  							<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#addActionModal" style="width: 100%;"><strong>Add action</strong></button>	
	  						</div>
	  					</div>

	  					<table class="table table-striped table-responsive table-sm" style="width: 100%;">
	  						<thead class="thead-dark">
	  							<tr>
	  								<th scope="col" style="width: 1%"></th>
	  								<th scope="col" style="width: 20%;">Name</th>
	  								<th scope="col" style="width: 10%;">Type</th>
	  								<th scope="col" style="width: 4%;">Priority</th>
	  								<th scope="col" style="width: 5%;">Method</th>
	  								<th scope="col" style="width: 15%;">URL</th>
	  								<th scope="col" style="width: 5%;">Version</th>
	  								<th scope="col" style="width: 19%;">Body</th>
	  								<th scope="col" style="width: 19%;">Headers</th>
	  								<th scope="col" style="width: 1%"></th>
	  								<th scope="col" style="width: 1%"></th>
	  							</tr>
	  						</thead>
	  						<tbody class="table-hover">
	  							<!--tr v-for="t in triggersForPage" v-bind:trigger="t" is="trigger-table-row"></tr--> 
	  							<!--Refenrenced in ..... https://github.com/vuejs/Discussion/issues/204 -->

	  							<tr v-for="(action, index) in actionsForPage">
  									<td>
										<div class="custom-control custom-checkbox">
											<input type="checkbox" :id="index" class="custom-control-input">
											<label :for="index" class="custom-control-label"></label>
										</div>
  									</td>
	  								<td>{{action.name}}</td>
	  								<td>{{action.type}}</td>

	  								<td v-if="action.priority!=undefined">{{action.priority}}</td>
	  								<td v-else class="text-center">-</td>

	  								<td v-if="action.method!=undefined">{{action.method}}</td>
	  								<td v-else class="text-center">-</td>

	  								<td v-if="action.url!=undefined">{{action.url}}</td>
	  								<td v-else class="text-center">-</td>

	  								<td v-if="action.version!=undefined">{{action.version}}</td>
	  								<td v-else class="text-center">-</td>

	  								<td v-if="action.body!=undefined">{{action.body}}</td>
	  								<td v-else class="text-center">-</td>

	  								<td v-if="action.headers!=undefined">{{action.headers}}</td>
	  								<td v-else class="text-center">-</td>	

	  								<td>
	  									<button type="button" class="btn btn-info btn-block" data-toggle="modal" @click="editAction(action)"  data-target="#editActionModal">
	  										<i class="fa fa-pencil-square-o"></i>
	  									</button>
	  								</td>
	  								<td>
	  									<button type="button" class="btn btn-danger btn-block" data-toggle="modal" @click="removeAction(action)" data-target="#deleteActionModal">
	  										<i class="fa fa-remove"></i>
	  									</button>
	  								</td>
	  							</tr>
	  						</tbody>
	  					</table>

  						<div class="row">
							<br>
							<p></p>
							<br>
							<div class="col-md-4 text-muted">
								<p>Showing <strong>{{actionsForPage.length}}</strong> out of <strong>{{existingActions.length}}</strong> entries</p>
							</div>
							<div class="col-md-8">

			  					<!--     Table pagination     -->
			  					<nav aria-label="Page navigation actions">
			  						<ul class="pagination justify-content-end">
			  							<li v-bind:class="[currentPage > 1 ? 'page-item': 'page-item disabled']">
			  								<a v-on:click="actionsForPage = displayPrevPage(maxActionsPerPage, actionsForPage, filteredActions)" class="page-link" href="#" tabindex="-1">Previous</a>
			  							</li>
			  							<li v-for="number in pagesNeededForActions" v-bind:class="[currentPage == number ? 'page-item active': 'page-item']" v-on:click="actionsForPage = getElementsToShowInTable(number, maxActionsPerPage, actionsForPage, filteredActions)"><a class="page-link" href="#">{{number}}</a></li>
			  							<li v-bind:class="[currentPage<pagesNeededForActions ? 'page-item': 'page-item disabled']">
			  								<a v-on:click="actionsForPage = displayNextPage(maxActionsPerPage, actionsForPage, filteredActions)" class="page-link" href="#">Next</a>
			  							</li>
			  						</ul>
			  					</nav>
			  				</div>
			  			</div>
	  				</div>

	  				<div class="col-md-1">
	  				</div>
	  			</div>

	  		</div>

	  		<!-- div for showing the Actions remove view -->
	  		<div v-if="renderActionRemoveView">

	  			<div class="container">
	  				<div class="row">
	  					<br>

	  					<div class="col-md-2">
	  					</div>

	  					<div class="col-md-8">
	  						<h4 class="mb-3 text-center"><strong>Remove Action</strong></h4>
	  						<hr>
	  						<form class="needs-validation" novalidate="">

	  							<div class="mb-3">
	  								<label for="securityKey">Security key</label>
	  								<div class="input-group">
	  									<div class="input-group-prepend">
	  										<span class="input-group-text"><i class="fa fa-key"></i></span>
	  									</div>
	  									<input type="text" class="form-control" id="securityKey" placeholder="Enter you security key" required="true">
	  									<div class="invalid-feedback" style="width: 100%;">
	  										The Trigger name is required.
	  									</div>
	  								</div>
	  							</div>

	  							<div class="mb-3">
	  								<label for="triggerSearchName">Search action</label>
	  								<div class="input-group">
	  									<div class="input-group-prepend">
	  										<span class="input-group-text"><i class="fa fa-search"></i></span>
	  									</div>
	  									<input type="text" class="form-control" id="triggerSearchName" placeholder="Start typing action name..." required="true">
	  									<div class="invalid-feedback" style="width: 100%;">
	  										The Trigger name is required.
	  									</div>
	  								</div>
	  							</div>

	  							<hr>

	  							<div class="mb-3">
	  								<label for="triggerSummary">Action summary</label>
	  							</div>

	  							<hr class="mb-3">
	  							<button class="btn btn-danger btn-lg btn-block" type="submit"><h5><strong>Remove action</strong></h5></button>
	  						</form>
	  					</div>

	  					<div class="col-md-2">
	  					</div>
	  				</div>
	  			</div>
	  		</div>


	  		<!-- div for showing the Commands add view -->
	  		<div id="commands" v-if="renderCommandAddView"> 
	  			<div class="container">
	  				<div class="row">
	  					<br>

	  					<div class="col-md-2">
	  					</div>

	  					<div class="col-md-8">
	  						<h4 class="mb-3 text-center"><strong>Add Command</strong></h4>
	  						<!--h6 class="text-muted text-center"><em><small>You trigger an ACTION based on a CONDITION that needs to be checked according to some POLICY</em></small></h6-->
	  						<hr>
	  						<form class="needs-validation" novalidate="">

	  							<div class="mb-3">
	  								<label for="triggerName">Name</label>
	  								<div class="input-group">
	  									<div class="input-group-prepend">
	  										<span class="input-group-text"><i class="fa fa-font"></i></span>
	  									</div>
	  									<input type="text" class="form-control" id="triggerName" placeholder="Commands name" required="true">
	  									<div class="invalid-feedback" style="width: 100%;">
	  										The Action name is required.
	  									</div>
	  								</div>
	  							</div>


	  							<div class="mb-3">
	  								<label for="triggerName">Priority</label>
	  								<div class="input-group">
	  									<div class="input-group-prepend">
	  										<span class="input-group-text"><i class="fa fa-star-o"></i></span>
	  									</div>
	  									<select class="form-control custom-select" id="days" placeholder="HIGH" required="true">
	  										<option value="monday">HIGH</option>
	  										<option value="tuesday">MEDIUM</option>
	  										<option value="wednesday">LOW</option>
	  									</select>
	  									<div class="invalid-feedback" style="width: 100%;">
	  										The Action type is required.
	  									</div>
	  								</div>
	  							</div>

	  							<hr class="mb-3">
	  							<button class="btn btn-primary btn-lg btn-block" type="submit"><h5><strong>Add command</strong></h5></button>

	  						</form>
	  					</div>

	  					<div class="col-md-2">
	  					</div>					
	  				</div>


	  			</div>

	  			<ul class="nav nav-tabs" id="myTab" role="tablist">
	  				<li class="nav-item">
	  					<a class="nav-link active" id="home-tab" data-toggle="tab" href="#home" role="tab" aria-controls="home" aria-selected="true">Home</a>
	  				</li>
	  				<li class="nav-item">
	  					<a class="nav-link" id="profile-tab" data-toggle="tab" href="#profile" role="tab" aria-controls="profile" aria-selected="false">Profile</a>
	  				</li>
	  				<li class="nav-item">
	  					<a class="nav-link" id="contact-tab" data-toggle="tab" href="#contact" role="tab" aria-controls="contact" aria-selected="false">Contact</a>
	  				</li>
	  			</ul>
	  			<div class="tab-content" id="myTabContent">
	  				<!--form class="needs-validation" novalidate=""-->
	  				<div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">

	  				</div>
	  				<div class="tab-pane fade" id="profile" role="tabpanel" aria-labelledby="profile-tab">

	  				</div>
	  				<div class="tab-pane fade" id="contact" role="tabpanel" aria-labelledby="contact-tab">

	  				</div>
	  				<!--/form-->
	  			</div>



	  			<p>
				  <a class="btn btn-primary" data-toggle="collapse" href="#collapseExample" role="button" aria-expanded="false" aria-controls="collapseExample">
				    Link with href
				  </a>
				  <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#collapseExample" aria-expanded="false" aria-controls="collapseExample">
				    Button with data-target
				  </button>
				</p>
				<div class="collapse" id="collapseExample">
				  <div class="card card-body">
				    Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident.
				  </div>
				</div>




	  		</div>


	  		<!-- div for showing the Commands remove view -->
	  		<div v-if="renderCommandRemoveView">

	  			<div class="container">
	  				<div class="row">
	  					<br>

	  					<div class="col-md-2">
	  					</div>

	  					<div class="col-md-8">
	  						<h4 class="mb-3 text-center"><strong>Remove Command</strong></h4>
	  						<hr>
	  						<form class="needs-validation" novalidate="">

	  							<div class="mb-3">
	  								<label for="securityKey">Security key</label>
	  								<div class="input-group">
	  									<div class="input-group-prepend">
	  										<span class="input-group-text"><i class="fa fa-key"></i></span>
	  									</div>
	  									<input type="text" class="form-control" id="securityKey" placeholder="Enter you security key" required="true">
	  									<div class="invalid-feedback" style="width: 100%;">
	  										The Trigger name is required.
	  									</div>
	  								</div>
	  							</div>

	  							<div class="mb-3">
	  								<label for="triggerSearchName">Search command</label>
	  								<div class="input-group">
	  									<div class="input-group-prepend">
	  										<span class="input-group-text"><i class="fa fa-search"></i></span>
	  									</div>
	  									<input type="text" class="form-control" id="triggerSearchName" placeholder="Start typing comannd name..." required="true">
	  									<div class="invalid-feedback" style="width: 100%;">
	  										The Trigger name is required.
	  									</div>
	  								</div>
	  							</div>

	  							<hr>

	  							<div class="mb-3">
	  								<label for="triggerSummary">Command summary</label>
	  							</div>

	  							<hr class="mb-3">
	  							<button class="btn btn-danger btn-lg btn-block" type="submit"><h5><strong>Remove command</strong></h5></button>
	  						</form>
	  					</div>

	  					<div class="col-md-2">
	  					</div>
	  				</div>
	  			</div>
	  		</div>


	  		<!-- div for showing the Triggers add view -->
	  		<div id="triggers" v-if="renderTriggerAddView">

	  			<div class="row">
	  				<br>

	  				<div class="col-md-1">
	  				</div>

	  				<div class="col-md-10">
	  					<h4 class="mb-3 text-center"><strong>Existing triggers</strong></h4>
	  					<hr>

	  					<div class="row">
	  						<div class="col-md-10">
	  							<div class="mb-3">
	  								<!--label for="triggerSearchName"><strong>Filter trigger</strong></label-->
	  								<div class="input-group">
	  									<div class="input-group-prepend">
	  										<span class="input-group-text"><i class="fa fa-search"></i></span>
	  									</div>

	  									<input type="text" class="form-control" v-model="triggerFilter" placeholder="Start typing to filter triggers..." required="true">

	  								</div>
	  							</div>
	  						</div>
	  						<div class="col-md-2">
	  							<!-- Button trigger modal -->
	  							<!--br-->
	  							<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#addTriggerModal" style="width: 100%;"><strong>Add trigger</strong></button>	
	  						</div>
	  					</div>

	  					<table class="table table-striped table-responsive table-sm" style="width: 100%;">
	  						<thead class="thead-dark">
	  							<tr>
	  								<th scope="col" style="width: 2%;"></th>
	  								<th scope="col" style="width: 25%;">Name</th>
	  								<th scope="col" style="width: 25%;">Action</th>
	  								<th scope="col" style="width: 11%;">Policy Type</th>
	  								<th scope="col" style="width: 11%;">Policy Elem</th>
	  								<th scope="col" style="width: 24%;">Condition</th>
	  								<th scope="col"></th>
	  								<th scope="col"></th>
	  							</tr>
	  						</thead>
	  						<tbody class="table-hover">  
	  							<!--tr v-for="t in triggersForPage" v-bind:trigger="t" is="trigger-table-row"></tr--> 
	  							<!--Refenrenced in ..... https://github.com/vuejs/Discussion/issues/204 -->

	  							<tr v-for="(trigger, index) in triggersForPage">
									<td>
										<div class="custom-control custom-checkbox">
											<input type="checkbox" :id="index" class="custom-control-input">
											<label :for="index" class="custom-control-label"></label>
										</div>
  									</td>
	  								<td>{{trigger.name}}</td>
	  								<td>{{trigger.action}}</td>
	  								<td>{{trigger.policy.type}}</td>
	  								<td>{{trigger.policy.elem}}</td>
	  								<td>{{trigger.conditions}}</td>
	  								<td>
	  									<button type="button" class="btn btn-info btn-block" v-on:click="editTrigger(trigger)" data-toggle="modal" data-target="#editTriggerModal">
	  										<i class="fa fa-pencil-square-o"></i>
	  									</button>
	  								</td>
	  								<td>
	  									<button type="button" class="btn btn-danger btn-block" data-toggle="modal" @click="removeTrigger(trigger)" data-target="#deleteTriggerModal">
	  										<i class="fa fa-remove"></i>
	  									</button>
	  								</td>
	  							</tr>
	  						</tbody>
	  					</table>


  						<div class="row">
							<br>
							<p></p>
							<br>
							<div class="col-md-4 text-muted">
								<p>Showing <strong>{{triggersForPage.length}}</strong> out of <strong>{{existingTriggers.length}}</strong> entries</p>
							</div>
							<div class="col-md-8">

			  					<!--     Table pagination     -->
			  					<nav aria-label="Page navigation example">
			  						<ul class="pagination justify-content-end">
			  							<li v-bind:class="[currentPage > 1 ? 'page-item': 'page-item disabled']">
			  								<a v-on:click="triggersForPage = displayPrevPage(maxTriggersPerPage, triggersForPage, filteredTriggers)" class="page-link" href="#" tabindex="-1">Previous</a>
			  							</li>
			  							<li v-for="number in pagesNeededForTriggers" v-bind:class="[currentPage == number ? 'page-item active': 'page-item']" v-on:click="triggersForPage = getElementsToShowInTable(number, maxTriggersPerPage, triggersForPage, filteredTriggers)"><a class="page-link" href="#">{{number}}</a></li>
			  							<li v-bind:class="[currentPage<pagesNeededForTriggers ? 'page-item': 'page-item disabled']">
			  								<a v-on:click="triggersForPage = displayNextPage(maxTriggersPerPage, triggersForPage, filteredTriggers)" class="page-link" href="#">Next</a>
			  							</li>
			  						</ul>
			  					</nav>
			  				</div>
			  			</div>

	  				</div>

	  				<div class="col-md-1">
	  				</div>
	  			</div>
	  		</div>


	  		<!-- div for showing the Triggers remove view -->
	  		<div v-if="renderTriggerRemoveView">

	  			<div class="container">
	  				<div class="row">
	  					<br>

	  					<div class="col-md-2">
	  					</div>

	  					<div class="col-md-8">
	  						<h4 class="mb-3 text-center"><strong>Remove Trigger</strong></h4>
	  						<hr>
	  						<form class="needs-validation" novalidate="">

	  							<div class="mb-3">
	  								<label for="securityKey">Security key</label>
	  								<div class="input-group">
	  									<div class="input-group-prepend">
	  										<span class="input-group-text"><i class="fa fa-key"></i></span>
	  									</div>
	  									<input type="text" class="form-control" id="securityKey" placeholder="Enter you security key" required="true">
	  									<div class="invalid-feedback" style="width: 100%;">
	  										The Trigger name is required.
	  									</div>
	  								</div>
	  							</div>

	  							<div class="mb-3">
	  								<label for="triggerSearchName">Search trigger</label>
	  								<div class="input-group">
	  									<div class="input-group-prepend">
	  										<span class="input-group-text"><i class="fa fa-search"></i></span>
	  									</div>
	  									<input type="text" class="form-control" id="triggerSearchName" placeholder="Start typing trigger name..." required="true">
	  									<div class="invalid-feedback" style="width: 100%;">
	  										The Trigger name is required.
	  									</div>
	  								</div>
	  							</div>

	  							<hr>

	  							<div class="mb-3">
	  								<label for="triggerSummary">Trigger summary</label>
	  							</div>

	  							<hr class="mb-3">
	  							<button class="btn btn-danger btn-lg btn-block" type="submit"><h5><strong>Remove trigger</strong></h5></button>
	  						</form>
	  					</div>

	  					<div class="col-md-2">
	  					</div>
	  				</div>
	  			</div>
	  		</div>


	  		<!-- Modal for addding actions -->
	  		<div class="modal fade" id="addActionModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
	  			<div class="modal-dialog modal-lg" role="document">
	  				<div class="modal-content">
	  					<div class="modal-header">
	  						<h4 class="modal-title" id="exampleModalLabel"><strong>Add Data Stream</strong></h4>
	  						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
	  							<span aria-hidden="true">&times;</span>
	  						</button>
	  					</div>
	  					<div class="modal-body">

	  						<form class="needs-validation" novalidate="">

	  							<div class="mb-3">
	  								<label for="actionName">Name</label>
	  								<div class="input-group">
	  									<div class="input-group-prepend">
	  										<span class="input-group-text"><i class="fa fa-font"></i></span>
	  									</div>
	  									<input type="text" class="form-control" id="actionName" placeholder="Action Name" v-model="activeAction.name" required="true">
	  									<div class="invalid-feedback" style="width: 100%;">
	  										The Action name is required.
	  									</div>
	  								</div>
	  							</div>


	  							<hr>
	  							<div>
	  								<label class="custom-control-label" for="triggerPolicy"><h4><strong>HTTP Request</strong></h4></label>
	  							</div>
	  							<hr>



	  							<div class="mb-3">
	  								<label for="httpMethod">Method</label>
	  								<div class="input-group">
	  									<div class="input-group-prepend">
	  										<span class="input-group-text"><i class="fa fa-star-o"></i></span>
	  									</div>
	  										<select class="form-control custom-select" id="httpMethod" v-model="activeAction.method" required="true">
  												<option v-for="(method, index) in existingHttpMethods" v-bind:value="method.name">
  													{{method.name}}
  												</option>
	  										</select>
	  									<div class="invalid-feedback" style="width: 100%;">
	  										The HTTP Method is required.
	  									</div>
	  								</div>
	  							</div>

	  							<div class="mb-3">
	  								<label for="triggerName">URL</label>
	  								<div class="input-group">
	  									<div class="input-group-prepend">
	  										<span class="input-group-text"><i class="fa fa-external-link"></i></span>
	  									</div>
	  									<input type="text" class="form-control" id="triggerName" placeholder="http://foo" v-model="activeAction.url" required="true">
	  									<div class="invalid-feedback" style="width: 100%;">
	  										The Action name is required.
	  									</div>
	  								</div>
	  							</div>

	  							<div class="mb-3">
	  								<label for="triggerName">Version</label>
	  								<div class="input-group">
	  									<div class="input-group-prepend">
	  										<span class="input-group-text"><i class="fa fa-code"></i></span>
	  									</div>
	  									<input type="text" class="form-control" id="triggerName" placeholder="HTTP request version" v-model="activeAction.version" required="true">
	  									<div class="invalid-feedback" style="width: 100%;">
	  										The Action name is required.
	  									</div>
	  								</div>
	  							</div>


	  							<div class="mb-3">
	  								<label for="triggerName">Body</label>
	  							</div>
	  							<hr>


	  							<div class="row">
	  								<div class="col-md-3">
	  									<button type="button" class="btn btn-info btn-lg btn-block" v-on:click="addOneMoreElemsForActionRequestBody()"><strong>Add parameter</strong></button>
	  								</div>
	  							</div>


	  							<div class="row" v-for="(elem, index) in activeIdsForHttpRequestBody">

	  								<div class="col-md-5">
	  									<div class="mb-3">
	  										<label for="triggerName">Key</label>
	  										<div class="input-group">
	  											<div class="input-group-prepend">
	  												<span class="input-group-text"><i class="fa fa-key"></i></span>
	  											</div>
	  											<input type="text" class="form-control" v-model="elem.key" placeholder="Parameter key" required="true">
	  											<div class="invalid-feedback" style="width: 100%;">
	  												The parameter key is required.
	  											</div>
	  										</div>
	  									</div>
	  								</div>

	  								<div class="col-md-6">
	  									<div class="mb-3">
	  										<label for="triggerName">Value</label>
	  										<div class="input-group">
	  											<div class="input-group-prepend">
	  												<span class="input-group-text"><i class="fa fa-pencil-square-o"></i></span>
	  											</div>
	  											<input type="text" class="form-control" v-model="elem.value" placeholder="Parameter value" required="true">
	  											<div class="invalid-feedback" style="width: 100%;">
	  												The parameter value is required.
	  											</div>
	  										</div>
	  									</div>
	  								</div>

	  								<div class="col-md-1">
	  									<div class="mb-3">
	  										<label></label>
	  										<button type="button" class="btn btn-danger" @click="oneLessElemForActionRequestBody(index)"><strong><i class="fa fa-remove"></i></strong></button>
	  									</div>
	  								</div>

	  							</div>

	  							<!--key-value-entry v-for="elem in elemsForActionRequestBody" v-bind:entryId="elem"></key-value-entry-->



	  							<hr>
	  							<div>
	  								<label class="custom-control-label" for="triggerPolicy"><h4><strong>HTTP Headers</strong></h4></label>
	  							</div>
	  							<hr>


	  							<div class="row">
	  								<div class="col-md-3">
	  									<button type="button" class="btn btn-info btn-lg btn-block" v-on:click="addOneMoreElemsForActionRequestHeader()"><strong>Add parameter</strong></button>
	  									<!--  https://stackoverflow.com/questions/7803814/prevent-refresh-of-page-when-button-inside-form-clicked  -->
	  								</div>
	  							</div>


	  							<div class="row" v-for="(elem, index) in activeIdsForHttpRequestHeader">

	  								<div class="col-md-5">
	  									<div class="mb-3">
	  										<label for="triggerName">Key</label>
	  										<div class="input-group">
	  											<div class="input-group-prepend">
	  												<span class="input-group-text"><i class="fa fa-key"></i></span>
	  											</div>
	  											<input type="text" class="form-control" v-model="elem.key" placeholder="Parameter key" required="true">
	  											<div class="invalid-feedback" style="width: 100%;">
	  												The Action name is required.
	  											</div>
	  										</div>
	  									</div>
	  								</div>

	  								<div class="col-md-6">
	  									<div class="mb-3">
	  										<label for="triggerName">Value</label>
	  										<div class="input-group">
	  											<div class="input-group-prepend">
	  												<span class="input-group-text"><i class="fa fa-pencil-square-o"></i></span>
	  											</div>
	  											<input type="text" class="form-control" v-model="elem.value" placeholder="Parameter value" required="true">
	  											<div class="invalid-feedback" style="width: 100%;">
	  												The Action name is required.
	  											</div>
	  										</div>
	  									</div>
	  								</div>

	  								<div class="col-md-1">
	  									<div class="mb-3">
	  										<label></label>
	  										<button class="btn btn-danger" @click="oneLessElemForActionRequestHeader(index)"><strong><i class="fa fa-remove"></i></strong></button>
	  									</div>
	  								</div>

	  							</div>


	  							<hr class="mb-3">
	  							<button type="button" class="btn btn-primary btn-lg btn-block" type="submit" @click="sasa()"><h5><strong>Add action</strong></h5></button>
	  						</form>


	  					</div>
	  				</div>
	  			</div>
	  		</div>


	  		<!-- Modal for editing actions-->
	  		<div class="modal fade" id="editActionModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
	  			<div class="modal-dialog modal-lg" role="document">
	  				<div class="modal-content">
	  					<div class="modal-header">
	  						<h4 class="modal-title" id="exampleModalLabel"><strong>Edit Action</strong></h4>
	  						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
	  							<span aria-hidden="true">&times;</span>
	  						</button>
	  					</div>
	  					<div class="modal-body">


	  						<form class="needs-validation" novalidate="">

	  							<div class="mb-3">
	  								<label for="actionName">Name</label>
	  								<div class="input-group">
	  									<div class="input-group-prepend">
	  										<span class="input-group-text"><i class="fa fa-font"></i></span>
	  									</div>
	  									<input type="text" class="form-control" id="actionName" v-model="activeAction.name" required="true">
	  									<div class="invalid-feedback" style="width: 100%;">
	  										The Action name is required.
	  									</div>
	  								</div>
	  							</div>


	  							<div v-if="activeAction.type=='http_request'">

	  								<hr>
	  								<div>
	  									<label class="custom-control-label" for="triggerPolicy"><h4><strong>HTTP Request</strong></h4></label>
	  								</div>
	  								<hr>

	  								<div class="mb-3">
	  									<label for="httpMethod">Method</label>
	  									<div class="input-group">
	  										<div class="input-group-prepend">
	  											<span class="input-group-text"><i class="fa fa-star-o"></i></span>
	  										</div>
	  										<select class="form-control custom-select" id="httpMethod" v-model="activeAction.method" required="true">
  												<option v-for="(method, index) in existingHttpMethods" v-bind:value="method.name">
  													{{method.name}}
  												</option>
	  										</select>
	  										<div class="invalid-feedback" style="width: 100%;">
	  											The HTTP Method is required.
	  										</div>
	  									</div>
	  								</div>

		  							<div class="mb-3">
		  								<label for="triggerName">URL</label>
		  								<div class="input-group">
		  									<div class="input-group-prepend">
		  										<span class="input-group-text"><i class="fa fa-external-link"></i></span>
		  									</div>
		  									<input type="text" class="form-control" id="triggerName" v-model="activeAction.url" required="true">
		  									<div class="invalid-feedback" style="width: 100%;">
		  										The Action url is required.
		  									</div>
		  								</div>
		  							</div>

		  							<div class="mb-3">
		  								<label for="triggerName">Version</label>
		  								<div class="input-group">
		  									<div class="input-group-prepend">
		  										<span class="input-group-text"><i class="fa fa-code"></i></span>
		  									</div>
		  									<input type="text" class="form-control" id="triggerName" v-model="activeAction.version" required="true">
		  									<div class="invalid-feedback" style="width: 100%;">
		  										The Action name is required.
		  									</div>
		  								</div>
		  							</div>


		  							<div class="mb-3">
		  								<label for="triggerName">Body</label>
		  							</div>
		  							<hr>


		  							<div class="row">
		  								<div class="col-md-3">
		  									<button class="btn btn-info btn-lg btn-block" v-on:click="addOneMoreElemsForActionRequestBody()"><strong>Add parameter</strong></button>
		  								</div>
		  							</div>


		  							<div class="row" v-for="(elem, index) in activeIdsForHttpRequestBody">

		  								<div class="col-md-5">
		  									<div class="mb-3">
		  										<label for="triggerName">Key</label>
		  										<div class="input-group">
		  											<div class="input-group-prepend">
		  												<span class="input-group-text"><i class="fa fa-key"></i></span>
		  											</div>
		  											<input type="text" class="form-control" v-model="elem.key" placeholder="Parameter key" required="true">
		  											<div class="invalid-feedback" style="width: 100%;">
		  												The parameter key is required.
		  											</div>
		  										</div>
		  									</div>
		  								</div>

		  								<div class="col-md-6">
		  									<div class="mb-3">
		  										<label for="triggerName">Value</label>
		  										<div class="input-group">
		  											<div class="input-group-prepend">
		  												<span class="input-group-text"><i class="fa fa-pencil-square-o"></i></span>
		  											</div>
		  											<input type="text" class="form-control" v-model="elem.value" placeholder="Parameter value" required="true">
		  											<div class="invalid-feedback" style="width: 100%;">
		  												The parameter value is required.
		  											</div>
		  										</div>
		  									</div>
		  								</div>

		  								<div class="col-md-1">
		  									<div class="mb-3">
		  										<label></label>
		  										<button class="btn btn-danger" @click="oneLessElemForActionRequestBody(index)"><strong><i class="fa fa-remove"></i></strong></button>
		  									</div>
		  								</div>

		  							</div>


		  							<hr>
		  							<div>
		  								<label class="custom-control-label" for="triggerPolicy"><h4><strong>HTTP Headers</strong></h4></label>
		  							</div>
		  							<hr>


		  							<div class="row">
		  								<div class="col-md-3">
		  									<button class="btn btn-info btn-lg btn-block" v-on:click="addOneMoreElemsForActionRequestHeader()"><strong>Add parameter</strong></button>
		  								</div>
		  							</div>


		  							<div class="row" v-for="(elem, index) in activeIdsForHttpRequestHeader">

		  								<div class="col-md-5">
		  									<div class="mb-3">
		  										<label for="triggerName">Key</label>
		  										<div class="input-group">
		  											<div class="input-group-prepend">
		  												<span class="input-group-text"><i class="fa fa-key"></i></span>
		  											</div>
		  											<input type="text" class="form-control" v-model="elem.key" placeholder="Parameter key" required="true">
		  											<div class="invalid-feedback" style="width: 100%;">
		  												The Action name is required.
		  											</div>
		  										</div>
		  									</div>
		  								</div>

		  								<div class="col-md-6">
		  									<div class="mb-3">
		  										<label for="triggerName">Value</label>
		  										<div class="input-group">
		  											<div class="input-group-prepend">
		  												<span class="input-group-text"><i class="fa fa-pencil-square-o"></i></span>
		  											</div>
		  											<input type="text" class="form-control" v-model="elem.value" placeholder="Parameter value" required="true">
		  											<div class="invalid-feedback" style="width: 100%;">
		  												The Action name is required.
		  											</div>
		  										</div>
		  									</div>
		  								</div>

		  								<div class="col-md-1">
		  									<div class="mb-3">
		  										<label></label>
		  										<button type="button" class="btn btn-danger" @click="oneLessElemForActionRequestHeader(index)"><strong><i class="fa fa-remove"></i></strong></button>
		  									</div>
		  								</div>
		  							</div>
	  							</div>

		  						<div v-else>
									<div class="mb-3">
		  								<label for="triggerName">Priority</label>
		  								<div class="input-group">
		  									<div class="input-group-prepend">
		  										<span class="input-group-text"><i class="fa fa-star-o"></i></span>
		  									</div>
		  									<select class="form-control custom-select" id="priority" v-model="activeAction.priority" required="true">
	  											<option v-for="(priority, index) in existingPriorities" v-bind:value="priority.name">
		  												{{priority.name}}
	  											</option>
		  									</select>
		  									<div class="invalid-feedback" style="width: 100%;">
		  										The Action priority is required.
		  									</div>
		  								</div>
		  							</div>
		  						</div>
	  						</form>
	  					</div>
	  					<div class="modal-footer">
	  						<button type="button" class="btn btn-primary" data-dismiss="modal"><strong>Save changes</strong></button>
  							<button type="button" class="btn btn-secondary" data-dismiss="modal"><strong>Close</strong></button>
	  					</div>
	  				</div>
	  			</div>
	  		</div>

	  		<!-- Modal for removing actions -->
	  		<div class="modal fade" id="deleteActionModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
	  			<div class="modal-dialog modal-lg" role="document">
	  				<div class="modal-content">
	  					<div class="modal-header">
	  						<h4 class="modal-title" id="exampleModalLabel"><strong>Remove Action</strong></h4>
	  						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
	  							<span aria-hidden="true">&times;</span>
	  						</button>
	  					</div>
	  					<div class="modal-body text-center">
	  						<h4>Are you sure you want to delete <strong>{{activeAction.name}}</strong> ?</h4>
	  						</div>
	  						<div class="modal-footer">
	  							<button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
	  							<button type="button" class="btn btn-danger">Delete</button>
	  						</div>
	  					</div>
	  				</div>
	  		</div>


	  		<!-- Modal for addding data streams-->
	  		<div class="modal fade" id="addDataStreamModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
	  			<div class="modal-dialog modal-lg" role="document">
	  				<div class="modal-content">
	  					<div class="modal-header">
	  						<h4 class="modal-title" id="exampleModalLabel"><strong>Add Data Stream</strong></h4>
	  						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
	  							<span aria-hidden="true">&times;</span>
	  						</button>
	  					</div>
	  					<div class="modal-body">

	  						<form class="needs-validation" novalidate="">

	  							<div class="mb-3">
	  								<label for="triggerName">Name</label>
	  								<div class="input-group">
	  									<div class="input-group-prepend">
	  										<span class="input-group-text"><i class="fa fa-font"></i></span>
	  									</div>
	  									<input type="text" class="form-control" id="triggerName" placeholder="Trigger Name" required="true">
	  									<div class="invalid-feedback" style="width: 100%;">
	  										The Trigger name is required.
	  									</div>
	  								</div>
	  							</div>

	  							<hr class="mb-3">	
	  							<button class="btn btn-primary btn-lg btn-block" type="submit"><h5><strong>Add trigger</strong></h5></button>
	  						</form>
	  					</div>
	  				</div>
	  			</div>
	  		</div>

	  		<!-- Modal for editing data streams-->
	  		<div class="modal fade" id="editDataStreamModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
	  			<div class="modal-dialog modal-lg" role="document">
	  				<div class="modal-content">
	  					<div class="modal-header">
	  						<h4 class="modal-title" id="exampleModalLabel"><strong>Edit Data Stream</strong></h4>
	  						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
	  							<span aria-hidden="true">&times;</span>
	  						</button>
	  					</div>
	  					<div class="modal-body">

	  						<form class="needs-validation" novalidate="">

	  							<div class="mb-3">
	  								<label for="dataStreamName">Name</label>
	  								<div class="input-group">
	  									<div class="input-group-prepend">
	  										<span class="input-group-text"><i class="fa fa-font"></i></span>
	  									</div>
	  									<input type="text" class="form-control" id="dataStreamName" v-bind:placeholder="this.activeDataStream.name" required="true">
	  									<div class="invalid-feedback" style="width: 100%;">
	  										The data stream name is required.
	  									</div>
	  								</div>
	  							</div>
	  						</form>
	  					</div>
	  					<div class="modal-footer">
	  						<button type="button" class="btn btn-primary" data-dismiss="modal"><strong>Save changes</strong></button>
  							<button type="button" class="btn btn-secondary" data-dismiss="modal"><strong>Close</strong></button>
	  					</div>
	  				</div>
	  			</div>
	  		</div>

	  		<!-- Modal for removing data streams-->
	  		<div class="modal fade" id="deleteDataStreamModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
	  			<div class="modal-dialog modal-lg" role="document">
	  				<div class="modal-content">
	  					<div class="modal-header">
	  						<h4 class="modal-title" id="exampleModalLabel"><strong>Remove Trigger</strong></h4>
	  						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
	  							<span aria-hidden="true">&times;</span>
	  						</button>
	  					</div>
	  					<div class="modal-body text-center">
	  						<h4>Are you sure you want to delete <strong>{{activeDataStream.name}}</strong> ?</h4>
	  						</div>
	  						<div class="modal-footer">
	  							<button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
	  							<button type="button" class="btn btn-danger">Delete</button>
	  						</div>
	  					</div>
	  				</div>
	  		</div>


  			<!-- Modal for addding triggers-->
  			<div class="modal fade" id="addTriggerModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  				<div class="modal-dialog modal-lg" role="document">
  					<div class="modal-content">
  						<div class="modal-header">
  							<h4 class="modal-title" id="exampleModalLabel"><strong>Add Trigger</strong></h4>
  							<button type="button" class="close" data-dismiss="modal" aria-label="Close">
  								<span aria-hidden="true">&times;</span>
  							</button>
  						</div>
  						<div class="modal-body">
  							<!--br-->
  							<!--h4 class="mb-3 text-center"><strong>Add Trigger</strong></h4-->
  							<h6 class="text-muted text-center"><em><small>You trigger an ACTION based on a CONDITION that needs to be checked according to some POLICY</em></small></h6>
  							<hr>

  							<form class="needs-validation" novalidate="">

  								<div class="mb-3">
  									<label for="triggerName">Name</label>
  									<div class="input-group">
  										<div class="input-group-prepend">
  											<span class="input-group-text"><i class="fa fa-font"></i></span>
  										</div>
  										<input type="text" class="form-control" id="triggerName" placeholder="Trigger Name" required="true">
  										<div class="invalid-feedback" style="width: 100%;">
  											The Trigger name is required.
  										</div>
  									</div>
  								</div>

  								<div class="mb-3">
  									<label for="triggerName">Action associated</label>
  									<div class="input-group">
  										<div class="input-group-prepend">
  											<span class="input-group-text"><i class="fa fa-star-o"></i></span>
  										</div>
  										<select class="form-control custom-select" id="days" placeholder="" required="true">
  											<option value="monday">Tweet</option>
  											<option value="tuesday">Make Facebook Post</option>
  											<option value="wednesday">Send Email</option>
  											<option value="thursday">Start Engine Alfa</option>
  											<option value="friday">Sense Temperature</option>
  										</select>
  										<div class="invalid-feedback" style="width: 100%;">
  											The Trigger name is required.
  										</div>
  									</div>
  								</div>


  								<hr>
  								<div>
  									<label class="custom-control-label" for="triggerPolicy"><h4><strong>Policy</strong></h4></label>
  								</div>
  								<hr>

  								<div class="row">
  									<div class="col-md-6 mb-3">
  										<div class="custom-control custom-radio">
  											<input id="credit" name="paymentMethod" type="radio" class="custom-control-input" checked="" required="" v-on:click="dataPointPolicy()">
  											<label class="custom-control-label" for="credit">Data Point Registration</label>
  										</div>
  									</div>
  									<div class="col-md-6 mb-3">
  										<div class="custom-control custom-radio">
  											<input id="debit" name="paymentMethod" type="radio" class="custom-control-input" required="" v-on:click="timePeriodPolicy()">
  											<label class="custom-control-label" for="debit">Time Period</label>
  										</div>
  									</div>
  								</div>

  								<div v-if="isTimePeriodPolicy">

  									<div class="mb-3">
  										<label for="triggerName">Starting from</label>
  										<div class="input-group">
  											<div class="input-group-prepend">
  												<span class="input-group-text"><i class="fa fa-calendar-plus-o"></i></span>
  											</div>  
  											<input class="form-control" type="datetime-local" value="2011-08-19T13:45:00" id="a">
  											<div class="invalid-feedback" style="width: 100%;">
  												The Trigger name is required.
  											</div>
  										</div>
  									</div>


  									<div class="mb-3">
  										<label for="triggerName">Ending on</label>
  										<div class="input-group">
  											<div class="input-group-prepend">
  												<span class="input-group-text"><i class="fa fa-calendar-times-o"></i></span>
  											</div>  
  											<input class="form-control" type="datetime-local" value="2011-08-19T13:45:00" id="a">
  											<div class="invalid-feedback" style="width: 100%;">
  												The Trigger name is required.
  											</div>
  										</div>
  									</div>

  								</div>

  								<div v-else>

  									<div class="mb-3">
  										<label for="triggerName">From Data Stream</label>
  										<div class="input-group">
  											<div class="input-group-prepend">
  												<span class="input-group-text"><i class="fa fa-diamond"></i></span>
  											</div>
  											<select class="form-control custom-select" id="days" placeholder="" required="true">
  												<option v-for="dS in dataStreams" value="dS">{{dS}}</option>
  											</select>
  											<div class="invalid-feedback" style="width: 100%;">
  												The Trigger name is required.
  											</div>
  										</div>
  									</div>

  								</div>

  								<hr>
  								<div>
  									<label class="custom-control-label" for="triggerPolicy"><h4><strong>Condition</strong></h4></label>
  								</div>
  								<hr>

  								<div class="mb-3">
  									<div class="input-group">
  										<div class="input-group-prepend">
  											<span class="input-group-text"><i class="fa fa-exclamation"></i></span>
  										</div>
  										<select class="form-control custom-select" id="days" placeholder="" required="true" v-model="conditionSelected">
  											<option v-for="condition in triggerConditions" v-bind:value="{ id: condition.id, text: condition.name }">{{ condition.name }}</option>
  										</select>
  										<div class="invalid-feedback" style="width: 100%;">
  											The Trigger name is required.
  										</div>
  									</div>
  								</div>

  								<div class="mb-3" v-if="conditionSelected.id==2 || conditionSelected.id==3">
  									<label for="dataStreamName">From Data Stream</label>
  									<div class="input-group">
  										<div class="input-group-prepend">
  											<span class="input-group-text"><i class="fa fa-diamond"></i></span>
  										</div>
  										<select class="form-control custom-select" id="days" placeholder="" required="true">
  											<option v-for="dS in dataStreams" value="dS">{{dS}}</option>
  										</select>
  										<div class="invalid-feedback" style="width: 100%;">
  											The Trigger name is required.
  										</div>
  									</div>
  								</div>


  								<div v-if="conditionSelected.id==2">
  									<div class="row">
  										<div class="col-md-4 mb-3">
  											<label for="cc-number">Value</label>
  											<input class="form-control" type="text" placeholder="Data-Stream current value" readonly>
  										</div>
  										<div class="col-md-4 mb-3">
  											<label for="cc-name">Condition</label>
  											<select class="form-control custom-select" id="currentValueCond" placeholder="" required="true">
  												<option value="monday">greater than</option>
  												<option value="monday">less than</option>
  												<option value="monday">equal to</option>
  												<option value="monday">different to</option>
  											</select>
  											<div class="invalid-feedback">
  												Name on card is required
  											</div>
  										</div>
  										<div class="col-md-4 mb-3">
  											<label for="cc-number">Defined value</label>
  											<input type="text" class="form-control" id="cc-number" placeholder="0" required="">
  											<div class="invalid-feedback">
  												Credit card number is required
  											</div>
  										</div>
  									</div>
  								</div>


  								<div v-if="conditionSelected.id==3">
  									<label for="triggerName">For more than...</label>
  									<div class="row">
  										<div class="col-md-2 mb-3">
  											<label for="cc-number">Months</label>
  											<input type="text" class="form-control" id="cc-number" placeholder="0" required="" v-model="dataStreamNotUpdatedFrom.months">
  											<div class="invalid-feedback">
  												Credit card number is required
  											</div>
  										</div>
  										<div class="col-md-2 mb-3">
  											<label for="cc-name">Weeks</label>
  											<input type="text" class="form-control" id="cc-name" placeholder="0" required="" v-model="dataStreamNotUpdatedFrom.weeks">
  											<div class="invalid-feedback">
  												Name on card is required
  											</div>
  										</div>
  										<div class="col-md-2 mb-3">
  											<label for="cc-number">Days</label>
  											<input type="text" class="form-control" id="cc-number" placeholder="0" required="" v-model="dataStreamNotUpdatedFrom.days">
  											<div class="invalid-feedback">
  												Credit card number is required
  											</div>
  										</div>
  										<div class="col-md-2 mb-3">
  											<label for="cc-number">Hours</label>
  											<input type="text" class="form-control" id="cc-number" placeholder="0" required="" v-model="dataStreamNotUpdatedFrom.hours">
  											<div class="invalid-feedback">
  												Credit card number is required
  											</div>
  										</div>
  										<div class="col-md-2 mb-3">
  											<label for="cc-number">Minutes</label>
  											<input type="text" class="form-control" id="cc-number" placeholder="0" required="" v-model="dataStreamNotUpdatedFrom.minutes">
  											<div class="invalid-feedback">
  												Credit card number is required
  											</div>
  										</div>
  										<div class="col-md-2 mb-3">
  											<label for="cc-number">Seconds</label>
  											<input type="text" class="form-control" id="cc-number" placeholder="0" required="" v-model="dataStreamNotUpdatedFrom.seconds">
  											<div class="invalid-feedback">
  												Credit card number is required
  											</div>
  										</div>
  									</div>
  									<label for="triggerName" style="font-style: italic;">For more than {{dataStreamNotUpdatedFrom.months}} months, {{dataStreamNotUpdatedFrom.weeks}} weeks, {{dataStreamNotUpdatedFrom.days}} days, {{dataStreamNotUpdatedFrom.hours}} hours, {{dataStreamNotUpdatedFrom.minutes}} minutes and {{dataStreamNotUpdatedFrom.seconds}} seconds</label>     
  								</div>

  								<div v-if="conditionSelected.id==4">
  									<div class="mb-3">
  										<label for="triggerName">From</label>
  										<div class="input-group">
  											<div class="input-group-prepend">
  												<span class="input-group-text"><i class="fa fa-calendar-plus-o"></i></span>
  											</div>  
  											<input class="form-control" type="datetime-local" value="2011-08-19T13:45:00" id="a">
  											<div class="invalid-feedback" style="width: 100%;">
  												The Trigger name is required.
  											</div>
  										</div>
  									</div>

  									<div class="mb-3">
  										<label for="triggerName">To</label>
  										<div class="input-group">
  											<div class="input-group-prepend">
  												<span class="input-group-text"><i class="fa fa-calendar-times-o"></i></span>
  											</div>  
  											<input class="form-control" type="datetime-local" value="2011-08-19T13:45:00" id="a">
  											<div class="invalid-feedback" style="width: 100%;">
  												The Trigger name is required.
  											</div>
  										</div>
  									</div>
  								</div>


  								<div class="row">
  									<div class="col-md-3">
  									</div>
  									<div class="col-md-3">
  									</div>
  									<div class="col-md-3">
  										<button class="btn btn-primary btn-lg btn-block"><strong>Add new condition</strong></button>
  									</div>
  									<div class="col-md-3">
  										<button class="btn btn-danger btn-lg btn-block"><strong>Forget condition</strong></button>
  									</div>
  								</div>


  								<hr class="mb-3">
  								<button class="btn btn-primary btn-lg btn-block" type="submit"><h5><strong>Add trigger</strong></h5></button>
  							</form>
  						</div>
  					</div>
  				</div>
  			</div>
  			<!--/div-->

  			<!-- Modal for editing triggers-->
  			<div class="modal fade" id="editTriggerModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  				<div class="modal-dialog modal-lg" role="document">
  					<div class="modal-content">
  						<div class="modal-header">
  							<h4 class="modal-title" id="exampleModalLabel"><strong>Edit Trigger</strong></h4>
  							<button type="button" class="close" data-dismiss="modal" aria-label="Close">
  								<span aria-hidden="true">&times;</span>
  							</button>
  						</div>
  						<div class="modal-body">

  							<form class="needs-validation" novalidate="">

  								<div class="mb-3">
  									<label for="triggerName">Name</label>
  									<div class="input-group">
  										<div class="input-group-prepend">
  											<span class="input-group-text"><i class="fa fa-font"></i></span>
  										</div>
  										<input type="text" class="form-control" id="triggerName" v-bind:placeholder="this.activeTrigger.name" required="true">
  										<div class="invalid-feedback" style="width: 100%;">
  											The Trigger name is required.
  										</div>
  									</div>
  								</div>

  								<div class="mb-3">
  									<label for="triggerName">Action associated</label>
  									<div class="input-group">
  										<div class="input-group-prepend">
  											<span class="input-group-text"><i class="fa fa-star-o"></i></span>
  										</div>
  										<select class="form-control custom-select" v-model="this.activeTrigger.action" required="true">
  											<option v-for="(action, index) in existingActions" v-bind:value="action.name">
  												{{action.name}}
  											</option>
  										</select>
  										<div class="invalid-feedback" style="width: 100%;">
  											The Trigger name is required.
  										</div>
  									</div>
  								</div>


  								<hr>
  								<div>
  									<label class="custom-control-label" for="triggerPolicy"><h4><strong>Policy</strong></h4></label>
  								</div>
  								<hr>

  								<div class="row">
  									<div class="col-md-6 mb-3">
  										<div class="custom-control custom-radio">
  											<input id="credit" name="paymentMethod" type="radio" class="custom-control-input" checked="" required="" v-on:click="dataPointPolicy()">
  											<label class="custom-control-label" for="credit">Data Point Registration</label>
  										</div>
  									</div>
  									<div class="col-md-6 mb-3">
  										<div class="custom-control custom-radio">
  											<input id="debit" name="paymentMethod" type="radio" class="custom-control-input" required="" v-on:click="timePeriodPolicy()">
  											<label class="custom-control-label" for="debit">Time Period</label>
  										</div>
  									</div>
  								</div>

  								<div v-if="isTimePeriodPolicy">

  									<div class="mb-3">
  										<label for="triggerName">Starting from</label>
  										<div class="input-group">
  											<div class="input-group-prepend">
  												<span class="input-group-text"><i class="fa fa-calendar-plus-o"></i></span>
  											</div>  
  											<input class="form-control" type="datetime-local" value="2011-08-19T13:45:00" id="a">
  											<div class="invalid-feedback" style="width: 100%;">
  												The Trigger name is required.
  											</div>
  										</div>
  									</div>


  									<div class="mb-3">
  										<label for="triggerName">Ending on</label>
  										<div class="input-group">
  											<div class="input-group-prepend">
  												<span class="input-group-text"><i class="fa fa-calendar-times-o"></i></span>
  											</div>  
  											<input class="form-control" type="datetime-local" value="2011-08-19T13:45:00" id="a">
  											<div class="invalid-feedback" style="width: 100%;">
  												The Trigger name is required.
  											</div>
  										</div>
  									</div>

  								</div>

  								<div v-else>

  									<div class="mb-3">
  										<label for="triggerName">From Data Stream</label>
  										<div class="input-group">
  											<div class="input-group-prepend">
  												<span class="input-group-text"><i class="fa fa-diamond"></i></span>
  											</div>
  											<select class="form-control custom-select" id="days" placeholder="" required="true">
  												<option v-for="dS in dataStreams" value="dS">{{dS}}</option>
  											</select>
  											<div class="invalid-feedback" style="width: 100%;">
  												The Trigger name is required.
  											</div>
  										</div>
  									</div>

  								</div>

  								<hr>
  								<div>
  									<label class="custom-control-label" for="triggerPolicy"><h4><strong>Condition</strong></h4></label>
  								</div>
  								<hr>

  								<div class="mb-3">
  									<div class="input-group">
  										<div class="input-group-prepend">
  											<span class="input-group-text"><i class="fa fa-exclamation"></i></span>
  										</div>
  										<select class="form-control custom-select" id="days" placeholder="" required="true" v-model="conditionSelected">
  											<option v-for="condition in triggerConditions" v-bind:value="{ id: condition.id, text: condition.name }">{{ condition.name }}</option>
  										</select>
  										<div class="invalid-feedback" style="width: 100%;">
  											The Trigger name is required.
  										</div>
  									</div>
  								</div>

  								<div class="mb-3" v-if="conditionSelected.id==2 || conditionSelected.id==3">
  									<label for="dataStreamName">From Data Stream</label>
  									<div class="input-group">
  										<div class="input-group-prepend">
  											<span class="input-group-text"><i class="fa fa-diamond"></i></span>
  										</div>
  										<select class="form-control custom-select" id="days" placeholder="" required="true">
  											<option v-for="dS in dataStreams" value="dS">{{dS}}</option>
  										</select>
  										<div class="invalid-feedback" style="width: 100%;">
  											The Trigger name is required.
  										</div>
  									</div>
  								</div>


  								<div v-if="conditionSelected.id==2">
  									<div class="row">
  										<div class="col-md-4 mb-3">
  											<label for="cc-number">Value</label>
  											<input class="form-control" type="text" placeholder="Data-Stream current value" readonly>
  										</div>
  										<div class="col-md-4 mb-3">
  											<label for="cc-name">Condition</label>
  											<select class="form-control custom-select" id="currentValueCond" placeholder="" required="true">
  												<option value="monday">greater than</option>
  												<option value="monday">less than</option>
  												<option value="monday">equal to</option>
  												<option value="monday">different to</option>
  											</select>
  											<div class="invalid-feedback">
  												Name on card is required
  											</div>
  										</div>
  										<div class="col-md-4 mb-3">
  											<label for="cc-number">Defined value</label>
  											<input type="text" class="form-control" id="cc-number" placeholder="0" required="">
  											<div class="invalid-feedback">
  												Credit card number is required
  											</div>
  										</div>
  									</div>
  								</div>


  								<div v-if="conditionSelected.id==3">
  									<label for="triggerName">For more than...</label>
  									<div class="row">
  										<div class="col-md-2 mb-3">
  											<label for="cc-number">Months</label>
  											<input type="text" class="form-control" id="cc-number" placeholder="0" required="" v-model="dataStreamNotUpdatedFrom.months">
  											<div class="invalid-feedback">
  												Credit card number is required
  											</div>
  										</div>
  										<div class="col-md-2 mb-3">
  											<label for="cc-name">Weeks</label>
  											<input type="text" class="form-control" id="cc-name" placeholder="0" required="" v-model="dataStreamNotUpdatedFrom.weeks">
  											<div class="invalid-feedback">
  												Name on card is required
  											</div>
  										</div>
  										<div class="col-md-2 mb-3">
  											<label for="cc-number">Days</label>
  											<input type="text" class="form-control" id="cc-number" placeholder="0" required="" v-model="dataStreamNotUpdatedFrom.days">
  											<div class="invalid-feedback">
  												Credit card number is required
  											</div>
  										</div>
  										<div class="col-md-2 mb-3">
  											<label for="cc-number">Hours</label>
  											<input type="text" class="form-control" id="cc-number" placeholder="0" required="" v-model="dataStreamNotUpdatedFrom.hours">
  											<div class="invalid-feedback">
  												Credit card number is required
  											</div>
  										</div>
  										<div class="col-md-2 mb-3">
  											<label for="cc-number">Minutes</label>
  											<input type="text" class="form-control" id="cc-number" placeholder="0" required="" v-model="dataStreamNotUpdatedFrom.minutes">
  											<div class="invalid-feedback">
  												Credit card number is required
  											</div>
  										</div>
  										<div class="col-md-2 mb-3">
  											<label for="cc-number">Seconds</label>
  											<input type="text" class="form-control" id="cc-number" placeholder="0" required="" v-model="dataStreamNotUpdatedFrom.seconds">
  											<div class="invalid-feedback">
  												Credit card number is required
  											</div>
  										</div>
  									</div>
  									<label for="triggerName" style="font-style: italic;">For more than {{dataStreamNotUpdatedFrom.months}} months, {{dataStreamNotUpdatedFrom.weeks}} weeks, {{dataStreamNotUpdatedFrom.days}} days, {{dataStreamNotUpdatedFrom.hours}} hours, {{dataStreamNotUpdatedFrom.minutes}} minutes and {{dataStreamNotUpdatedFrom.seconds}} seconds</label>     
  								</div>

  								<div v-if="conditionSelected.id==4">
  									<div class="mb-3">
  										<label for="triggerName">From</label>
  										<div class="input-group">
  											<div class="input-group-prepend">
  												<span class="input-group-text"><i class="fa fa-calendar-plus-o"></i></span>
  											</div>  
  											<input class="form-control" type="datetime-local" value="2011-08-19T13:45:00" id="a">
  											<div class="invalid-feedback" style="width: 100%;">
  												The Trigger name is required.
  											</div>
  										</div>
  									</div>

  									<div class="mb-3">
  										<label for="triggerName">To</label>
  										<div class="input-group">
  											<div class="input-group-prepend">
  												<span class="input-group-text"><i class="fa fa-calendar-times-o"></i></span>
  											</div>  
  											<input class="form-control" type="datetime-local" value="2011-08-19T13:45:00" id="a">
  											<div class="invalid-feedback" style="width: 100%;">
  												The Trigger name is required.
  											</div>
  										</div>
  									</div>
  								</div>


  								<div class="row">
  									<div class="col-md-3">
  									</div>
  									<div class="col-md-3">
  									</div>
  									<div class="col-md-3">
  										<button class="btn btn-primary btn-lg btn-block">Add new condition</button>
  									</div>
  									<div class="col-md-3">
  										<button class="btn btn-danger btn-block">Forget condition</button>
  									</div>
  								</div>

  							</form>
  						</div>
  						<div class="modal-footer">
	  						<button type="button" class="btn btn-primary" data-dismiss="modal"><strong>Save changes</strong></button>
  							<button type="button" class="btn btn-secondary" data-dismiss="modal"><strong>Close</strong></button>
  						</div>
  					</div>
  				</div>
  			</div>

  			<!-- Modal for removing triggers-->
  			<div class="modal fade" id="deleteTriggerModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  				<div class="modal-dialog modal-lg" role="document">
  					<div class="modal-content">
  						<div class="modal-header">
  							<h4 class="modal-title" id="exampleModalLabel"><strong>Remove Trigger</strong></h4>
  							<button type="button" class="close" data-dismiss="modal" aria-label="Close">
  								<span aria-hidden="true">&times;</span>
  							</button>
  						</div>
  						<div class="modal-body text-center">
  							<h4>Are you sure you want to delete <strong>{{activeTrigger.name}}</strong> ?</h4>
  							</div>
  							<div class="modal-footer">
  								<button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
  								<button type="button" class="btn btn-danger">Delete</button>
  							</div>
  						</div>
  					</div>
  				</div>

  			</div>


	  			<script type="text/javascript">

	  				Vue.component('trigger-table-row',{
		props:['trigger'],//<th scope="row"></th>
		template:'<tr><td>{{trigger.name}}</td><td>{{trigger.action}}</td><td>{{trigger.policy.type}}</td><td>{{trigger.policy.elem}}</td><td>{{trigger.conditions}}</td><td><button type="button" class="btn btn-info btn-block" @click.native="displaySomething()" data-toggle="modal" data-target="#editTriggerModal"><i class="fa fa-pencil-square-o"></i></button></td><td><button type="button" class="btn btn-danger btn-block" data-toggle="modal" data-target="#deleteTriggerModal"><i class="fa fa-remove"></i></button></td></tr>'			
	});


	  				Vue.component('div-canvas-for-chart', {
	  					props:['id'],
	  					template:'<div class="col-md-4"><canvas :id="id"></canvas></div>' 
	  				});

	  				Vue.component('content-separator', {
	  					template:'<h1 id="contentSeparator"><strong><slot></slot></strong></h1>'
	  				});

	  				Vue.component('data-streams-button', {
	  					props:['name'],
	  					template:'<button type="button">{{name}}</button>'
	  				});

	  				Vue.component('data-stream-checkboxes', {
	  					props:['value'],
	  					template:'<p><input type="checkbox" :value="value" v-model="caca"><label :for="value">{{value}}</label></p>',
	  					data() {
	  						console.log(" data() en componen => " + this.value);
	  						return { caca: this.value }
	  					},
	  					watch: {
	  						caca(val) {
	  							console.log(" caca => " + val);
	  							this.$emit('input', val);
	  						}
	  					} 
	  				});

	  				new Vue({
	  					el: '#app',
	  					data: {
	  						dataStreams: [],
	  						dataStreamSelected: [],
	  						hasNotFinishedDS: true,
	  						hasNotFinishedDPS: true,
	  						streamWasSelected:false,
	  						hasToShowCharAndCards: false,
	  						isTimePeriodPolicy: false,

	  						renderDashboardView: true,
	  						renderSecurityView: false,
	  						renderAboutView: false,
	  						renderActionAddView: false,
	  						renderActionRemoveView: false,
	  						renderCommandAddView: false,
	  						renderCommandRemoveView: false,
	  						renderTriggerAddView: false,
	  						renderTriggerRemoveView: false,
	  						renderDataStreamView : false,
	  						amountOfEntriesPerPage: 5,
	  				//renderOneTimeTrigger: false,

	  				showActionsOptions : false,
	  				showCommandsOptions : false,
	  				showTriggersOptions : false,

	  				existingTriggers: [
	  				{ name: 'Trigger1', action : 'Tweet', policy: {type: 'data_point_registration', elem: 'Temperature'}, conditions: ['Temperature current value > 24 Celsius', 'Temperature current value > 24 Celsius', 'Time interval' ]},

	  				{name: 'Trigger2', action: 'Make Facebook Post', policy: {type: 'data_point_registration',	elem: 'Temperature' }, conditions: ['Always']	},

	  				{name: 'Trigger3', action: 'Send Email', policy: {type: 'data_point_registration', elem: 'Temperature'}, conditions: ['Temperature current value > 24 Celsius']},

	  				{name: 'Trigger4', action: 'Start Engine Alfa', policy: {type:'data_point_registration', elem: 'Temperature'}, conditions: ['Always']},

	  				{name: 'Trigger5', action: 'Sense Temperature', policy: {type: 'time_interval', elem: 'Fridays' }, conditions: ['Always']},

	  				{ name: 'Trigger6', action : 'Start Engine Alfa', policy: {type: 'data_point_registration', elem: 'Temperature'}, conditions: ['Temperature current value > 24 Celsius', 'Temperature current value > 24 Celsius', 'Time interval' ]},

	  				{name: 'Trigger7', action: 'Start Engine Alfa', policy: {type: 'data_point_registration',	elem: 'Temperature' }, conditions: ['Always']	},

	  				{name: 'Trigger8', action: 'Start Engine Alfa', policy: {type: 'data_point_registration', elem: 'Temperature'}, conditions: ['Temperature current value > 24 Celsius']},

	  				{name: 'Trigger9', action: 'Make Facebook Post', policy: {type:'data_point_registration', elem: 'Temperature'}, conditions: ['Always']},

	  				{name: 'Trigger10', action: 'Make Facebook Post', policy: {type: 'time_interval', elem: 'Fridays' }, conditions: ['Always']},

	  				{ name: 'Trigger11', action : 'Make Facebook Post', policy: {type: 'data_point_registration', elem: 'Temperature'}, conditions: ['Temperature current value > 24 Celsius', 'Temperature current value > 24 Celsius', 'Time interval' ]},

	  				{name: 'Trigger12', action: 'Send Email', policy: {type: 'data_point_registration',	elem: 'Temperature' }, conditions: ['Always']	},

	  				{name: 'Trigger13', action: 'Send Email', policy: {type: 'data_point_registration', elem: 'Temperature'}, conditions: ['Temperature current value > 24 Celsius']},

	  				{name: 'Trigger14', action: 'Send Email', policy: {type:'data_point_registration', elem: 'Temperature'}, conditions: ['Always']},

	  				{name: 'Trigger15', action: 'Send Email', policy: {type: 'time_interval', elem: 'Fridays' }, conditions: ['Always']},
	  				],

	  				triggersForPage: [],
	  				maxTriggersPerPage: 4,
	  				pagesNeededForTriggers: 0,
	  				currentPage: 1,
	  				triggerFilter: undefined,
	  				filteredTriggers:[],
	  				intermediateTriggers:[],
	  				activeTrigger:[],

	  				triggerConditions:[
	  				{id: 1, name: 'Always'},
	  				{id: 2, name: 'On Data-Stream value'},
	  				{id: 3, name: 'When Data-Stream has not been updated'},
	  				{id: 4, name: 'Time interval'},
	  				],


	  				// general pagination
	  				optionsOfEntriesPerPage:[
		  				{id:0, value:5},
		  				{id:1, value:10},
		  				{id:2, value:15},
		  				{id:3, value:20}, 				
	  				],


	  				// data stream variables

	  				dataStreamFilter: undefined,
	  				pagesNeededForDataStreams: 0, 
	  				maxDataStreamsPerPage: 7, 
	  				dataStreamsForPage: [], 
	  				filteredDataStreams: [],

	  				filteredDataStreams:[],
	  				intermediateDataStreams:[],
	  				activeDataStream:[],




	  				// actions variables
	  				existingActions:[
	  				{id: 1, name: 'Tweet', type:'http_request', method:'POST', url:'https://twitter.com', version:'1.1', body:[{key:'name', value:'john'}, {key:'last-name', value:'doe'}], headers:[{key:'security-key', value:'f78r3d'}, {key:'email', value:'jnahas@foor.bar'}]},
	  				{id: 2, name: 'Make Facebook Post', type:'http_request', method:'POST', url:'https://facebook.com', version:'1.1', body:[{key:'name', value:'john'}, {key:'last-name', value:'doe'}], headers:[{key:'security-key', value:'f78r3d'}, {key:'email', value:'jnahas@foor.bar'}]},
	  				{id: 3, name: 'Send Email', type:'http_request', method:'POST', url:'https://gmail.com', version:'1.1', body:[{key:'name', value:'john'}, {key:'last-name', value:'doe'}], headers:[{key:'security-key', value:'f78r3d'}, {key:'email', value:'jnahas@foor.bar'}]},
	  				{id: 4, name: 'Start Engine Alfa', type:'http_request', method:'POST', url:'http://device1.com', version:'1.1', body:[{key:'name', value:'john'}, {key:'last-name', value:'doe'}], headers:[{key:'security-key', value:'f78r3d'}, {key:'email', value:'jnahas@foor.bar'}]},
	  				{id: 5, name: 'Sense Temperature', type:'http_request', method:'GET', url:'http://device2.com', version:'1.1', body:[{key:'name', value:'john'}, {key:'last-name', value:'doe'}], headers:[{key:'security-key', value:'f78r3d'}, {key:'email', value:'jnahas@foor.bar'}]},
	  				{id: 6, name: 'Command A', type:'command', priority:'High'},
	  				{id: 7, name: 'Command B', type:'command', priority:'Medium'},
	  				{id: 8, name: 'Command C', type:'command', priority:'Low'},
	  				],


	  				actionFilter: undefined,
	  				pagesNeededForActions: 0, 
	  				maxActionsPerPage: 3, 
	  				actionsForPage: [], 
	  				filteredActions: [],

	  				filteredActions:[],
	  				intermediateActions:[],
	  				activeAction:[],


	  				elemsForActionRequestBody: 0,
	  				activeIdsForHttpRequestBody: [],
	  				activeIdsForHttpRequestHeader: [],


	  				existingHttpMethods:[
		  				{id:0, name:'DELETE'},
		  				{id:1, name:'GET'},
		  				{id:2, name:'HEAD'},
		  				{id:3, name:'OPTIONS'},
		  				{id:4, name:'PATCH'},
		  				{id:5, name:'POST'},
		  				{id:6, name:'PUT'},
		  				{id:7, name:'TRACE'}, 				
	  				],

	  				existingPriorities:[
		  				{id:0, name:'High'},
		  				{id:1, name:'Medium'},
		  				{id:2, name:'Low'},
	  				],



	  				conditionSelected:{
	  					id:1,
	  					text:''
	  				},
	  				
	  				dataStreamNotUpdatedFrom:{
	  					months:0,
	  					weeks:0,
	  					days:0,
	  					hours:0,
	  					minutes:0,
	  					seconds:0,
	  				},


	  				// data stream view variables

	  				dataStreamsConfigured:[
	  				{id: 0, name: 'Solar light in garden'},
	  				{id: 1, name: 'Temperature inside the house'},		
	  				{id: 2, name: 'Temperature outside the house'},		
	  				{id: 3, name: 'Car Volumetric Sensor'},		
	  				{id: 4, name: 'Pressure inside the house'},		
	  				{id: 5, name: 'UV-Intensity'},
	  				{id: 6, name: 'Humidity inside guest-room'},		
	  				{id: 7, name: 'Humidity outside the house'},		
	  				{id: 8, name: 'Pressure outside the house'},		
	  				{id: 9, name: 'Movement sensor in atic'}
	  				],



	  				// security view variables

	  				securityKey : '91c-xdy-w5w',

	  				maxValue:{
	  					value:'',
	  					timestamp:''
	  				},
	  				minValue:{
	  					value:'',
	  					timestamp:''
	  				},
	  				averageValue:{
	  					value:'',
	  					timestamp:''
	  				},
	  				currentValue: {
	  					value:'',
	  					timestamp:''
	  				},
	  				data:'',
	  				dataStreamInformation: [],
	  				selectedDs: '',
	  				sideNavStyle:{
	  					backgroundColor: '',
	  					width: ''						
	  				}
	  			},

	  			mounted(){
				//Chart.defaults.global.legend.display = false; // avoid showing dataset labels on any chart
				this.hasNotFinishedDS = true;
				this.isSideNavActive = false;
				this.renderDashboardView = true;
				this.renderSecurityView = false;
				this.renderActionAddView = false;
				this.renderAboutView = false;
				this.renderTriggerAddView = false;
				this.showActionsOptions = false;
				this.showCommandsOptions = false;
				this.showTriggersOptions = false;
				this.renderTriggerRemoveView = false;
				this.renderCommandRemoveView = false;
				this.renderActionRemoveView = false;
				this.renderDataStreamView = false;

				this.streamWasSelected = false;
				this.isTimePeriodPolicy = false;

				this.data = new Date();

				console.log("DATE => " + this.data);

				axios.get('http://localhost:8090/test/dataStream/availables').then(response => {
					this.hasNotFinishedDS = false;
					this.dataStreams = response.data;	
					console.log("[SUCCESS] DataStreams =>>>> " + this.dataStreams);
				}, (error) => {
					this.hasNotFinishedDS=false;
					console.log(error);
					this.dataStreams = ["Temperature","Pressure","Humidity","UV-Intensity"];
					console.log("[ERROR] DataStreams > " + this.dataStreams);
				})

				console.log("Width => " + this.sideNavStyle.backgroundColor);
				console.log("Color => " + this.sideNavStyle.width);


			    // Drawing the chart for Actions -> FIXME <-
			    var ctx = document.getElementById("actionsChart").getContext('2d');
			    var actionsChart = new Chart(ctx, {
			    	type: 'doughnut',
			    	data: {
			    		labels: ['Action 1', 'Action 2', 'Action 3', 'Action 4', 'Action 5'],
			    		datasets: [{
			    			label: 'Population (millions)',
			    			data: [11, 22, 5, 17, 15],
			    			backgroundColor: ['#FABB3C', '#32D75E','#D02FC0','#EB0524','#848B7A']
			    			/*backgroundColor: ['#3e95cd', '#8e5ea2','#3cba9f','#e8c3b9','#c45850']*/
			    		}]
			    	},
			    	options: {
			    		responsive:true,
			    		cutoutPercentage:75,
			    		maintainAspectRatio: true,
						/*title: {
							display: false,
							text: 'Most Executed Actions'
						}*/
						title: false,
						//legend:false
					}
				});

			},

			watch: {
				triggerFilter: function(val, oldVal){ //watch the input for filtering the triggers
					console.log("Entering triggerFilter watcher");
					this.filterTriggerToDisplay();
				},
				dataStreamFilter: function(val, oldVal){ //watch the input for filtering the data streams
					console.log("Entering dataStreamFilter watcher");
					this.filterDataStreamToDisplay();
				},
				actionFilter: function(val, oldVal){ //watch the input for filtering the actions
					console.log("Entering actionFilter watcher");
					this.filterActionToDisplay();
				}
			},	

			methods: {
				sasa: function(){
					console.log(" ABOUT TO ADD AN ACTION!! ");
					console.log("activeIdsForHttpRequestHeader: " + this.activeIdsForHttpRequestHeader);
					console.log("activeIdsForHttpRequestBody: " + this.activeIdsForHttpRequestBody);
					console.log("activeAction: " + this.activeAction.name);
					console.log("activeAction: " + this.activeAction.method);
					console.log("activeAction: " + this.activeAction.url);
					console.log("activeAction: " + this.activeAction.version);
				},

				editAction: function(action){
					this.activeAction = action;
				},

				removeAction: function(action){
					this.activeAction = action;
				},

				editDataStream: function(dataStream){
					this.activeDataStream = dataStream;
				},

				removeDataStream: function(dataStream){
					this.activeDataStream = dataStream;
				},

				removeTrigger(trigger){
					this.activeTrigger = trigger;
				},

				editTrigger: function(trigger){
					console.log("...Entering editTrigger!");
					console.log("activeTrigger: " + this.activeTrigger);
					console.log("trigger: " + trigger.name);
					this.activeTrigger = trigger;
					console.log("activeTrigger: " + this.activeTrigger);
				},

				filterActionToDisplay: function () {
					console.log("Entering filterActionToDisplay ");
					console.log("actionFilter: " + this.actionFilter);

			    	this.intermediateActions = []; // siempre vacÃ­o el intermedio

					// check if contains a valid value
					if(this.actionFilter != undefined){ // uso uno intermedio para recien cambiar el array principal cuando haya identificado todos los triggers que tienen que ser mostrados

			      		// get the amount of existing triggers
			      		amountOfActions = this.existingActions.length;

			      		for(i=0; i<amountOfActions; i++){

			      			//check Action name 
			      			filteredField = this.existingActions[i].name;
			      			this.intermediateActions = this.addElementToFilteredOnes(filteredField, this.actionFilter, this.intermediateActions, this.existingActions[i]);

			      			//check Action type 
			      			filteredField = this.existingActions[i].type;
			      			this.intermediateActions = this.addElementToFilteredOnes(filteredField, this.actionFilter, this.intermediateActions, this.existingActions[i]);

			      			if(filteredField=="command"){
								//check Action command priority
								filteredField = this.existingActions[i].priority;
								this.intermediateActions = this.addElementToFilteredOnes(filteredField, this.actionFilter, this.intermediateActions, this.existingActions[i]);			      				
							}else{

				      			//check Action http request method 
				      			filteredField = this.existingActions[i].method;
				      			this.intermediateActions = this.addElementToFilteredOnes(filteredField, this.actionFilter, this.intermediateActions, this.existingActions[i]);


				      			//check Action http request url
				      			filteredField = this.existingActions[i].url;
				      			this.intermediateActions = this.addElementToFilteredOnes(filteredField, this.actionFilter, this.intermediateActions, this.existingActions[i]);

				      			//check Action http request version
				      			filteredField = this.existingActions[i].version;
				      			this.intermediateActions = this.addElementToFilteredOnes(filteredField, this.actionFilter, this.intermediateActions, this.existingActions[i]);


				      			//check Action http request body parameters
				      			body = this.existingActions[i].body;
				      			console.log("body: " + body);
				      			console.log("body length: " + body.length);
				      			console.log("Filter: " + this.actionFilter);

				      			var alreadyAdded = false;

				      			for(t=0; t<body.length;t++){
				      				if(body[t].key.indexOf(this.actionFilter) >= 0){

				      					// Check if the trigger was not already added to the filtered ones
				      					for(a=0; a<this.intermediateActions.length; a++){
				      						if(this.intermediateActions[a].name == this.existingActions[i].name){
				      							alreadyAdded = true;
				      							break;
				      						}
				      					}
				      					console.log("alreadyAdded: " + alreadyAdded);
				      					if(!alreadyAdded){
				      						this.intermediateActions.push(this.existingActions[i]);  
				      					}
				      				}
				      				alreadyAdded = false;
				      				if(body[t].value.indexOf(this.actionFilter) >= 0){

				      					// Check if the trigger was not already added to the filtered ones
				      					for(a=0; a<this.intermediateActions.length; a++){
				      						if(this.intermediateActions[a].name == this.existingActions[i].name){
				      							alreadyAdded = true;
				      							break;
				      						}
				      					}
				      					console.log("alreadyAdded: " + alreadyAdded);
				      					if(!alreadyAdded){
				      						this.intermediateActions.push(this.existingActions[i]);  
				      					}
				      				}

				      			}

				      			alreadyAdded = false;
				      			//check Action http request header parameters
				      			headers = this.existingActions[i].headers;
				      			console.log("headers: " + headers);
				      			console.log("headers length: " + headers.length);
				      			console.log("Filter: " + this.actionFilter);

				      			var alreadyAdded = false;

				      			for(t=0; t<headers.length;t++){
				      				if(headers[t].key.indexOf(this.actionFilter) >= 0){

				      					// Check if the trigger was not already added to the filtered ones
				      					for(a=0; a<this.intermediateActions.length; a++){
				      						if(this.intermediateActions[a].name == this.existingActions[i].name){
				      							alreadyAdded = true;
				      							break;
				      						}
				      					}
				      					console.log("alreadyAdded: " + alreadyAdded);
				      					if(!alreadyAdded){
				      						this.intermediateActions.push(this.existingActions[i]);  
				      					}
				      				}

				      				alreadyAdded = true;

				      				if(headers[t].value.indexOf(this.actionFilter) >= 0){

				      					// Check if the trigger was not already added to the filtered ones
				      					for(a=0; a<this.intermediateActions.length; a++){
				      						if(this.intermediateActions[a].name == this.existingActions[i].name){
				      							alreadyAdded = true;
				      							break;
				      						}
				      					}
				      					console.log("alreadyAdded: " + alreadyAdded);
				      					if(!alreadyAdded){
				      						this.intermediateActions.push(this.existingActions[i]);  
				      					}
				      				}
				      			}
				      		}
				      	}

			      		if(this.intermediateActions.length>0){ // si tiene triggers para mostrar
			      			this.filteredActions = this.intermediateActions; // ahora ya podrÃ­a mostrar todos los filtrados
			      		}else{
			      			this.filteredActions = [];
			      		} 		

			      	}else{
						// copy all the existing triggers, no filtering
						this.filteredActions =this.existingActions;
					}

					// Set the pages needed to show the filtered triggers
					this.pagesNeededForActions = this.getPagesNeeded(this.filteredActions, this.maxActionsPerPage);
					console.log(" pagesNeededForActions " + this.pagesNeededForActions);

					// Always display first page first to the user
					this.actionsForPage = this.getElementsToShowInTable(1, this.maxActionsPerPage, this.actionsForPage, this.filteredActions);
				},

				filterTriggerToDisplay: function () {
					console.log("Entering filterTriggerToDisplay ");
					console.log("triggerFilter: " + this.triggerFilter);

			    	this.intermediateTriggers = []; // siempre vacÃ­o el intermedio

					// check if contains a valid value
					if(this.triggerFilter != undefined){ // uso uno intermedio para recien cambiar el array principal cuando haya identificado todos los triggers que tienen que ser mostrados

			      		// get the amount of existing triggers
			      		amountOfTriggers = this.existingTriggers.length;

			      		for(i=0; i<amountOfTriggers; i++){

			      			//check Trigger name 
			      			filteredField = this.existingTriggers[i].name;
			      			this.intermediateTriggers = this.addElementToFilteredOnes(filteredField, this.triggerFilter, this.intermediateTriggers, this.existingTriggers[i]);

			      			//check Trigger action 
			      			filteredField = this.existingTriggers[i].action;
			      			this.intermediateTriggers = this.addElementToFilteredOnes(filteredField, this.triggerFilter, this.intermediateTriggers, this.existingTriggers[i]);


			      			//check Trigger policy type 
			      			filteredField = this.existingTriggers[i].policy.type;
			      			this.intermediateTriggers = this.addElementToFilteredOnes(filteredField, this.triggerFilter, this.intermediateTriggers, this.existingTriggers[i]);


			      			//check Trigger policy 
			      			filteredField = this.existingTriggers[i].policy.elem;
			      			this.intermediateTriggers = this.addElementToFilteredOnes(filteredField, this.triggerFilter, this.intermediateTriggers, this.existingTriggers[i]);


			      			//check Trigger conditions 
			      			conditions = this.existingTriggers[i].conditions;
			      			console.log("conditions: " + conditions);
			      			console.log("conditions length: " + conditions.length);
			      			console.log("Filter: " + this.triggerFilter);

			      			var alreadyAdded = false;

			      			for(t=0; t<conditions.length;t++){
			      				if(conditions[t].indexOf(this.triggerFilter) >= 0){

			      					// Check if the trigger was not already added to the filtered ones
			      					for(a=0; a<this.intermediateTriggers.length; a++){
			      						if(this.intermediateTriggers[a].name == this.existingTriggers[i].name){
			      							alreadyAdded = true;
			      							break;
			      						}
			      					}
			      					console.log("alreadyAdded: "  +alreadyAdded);
			      					if(!alreadyAdded){
			      						this.intermediateTriggers.push(this.existingTriggers[i]);  
			      					}
			      				}
			      			}

			      		}

			      		if(this.intermediateTriggers.length>0){ // si tiene triggers para mostrar
			      			this.filteredTriggers = this.intermediateTriggers; // ahora ya podrÃ­a mostrar todos los filtrados
			      		}else{
			      			this.filteredTriggers = [];
			      		} 		

			      	}else{
						// copy all the existing triggers, no filtering
						this.filteredTriggers =this.existingTriggers;
					}

					// Set the pages needed to show the filtered triggers
					this.pagesNeededForTriggers = this.getPagesNeeded(this.filteredTriggers, this.maxTriggersPerPage);
					console.log(" pagesNeededForTriggers " + this.pagesNeededForTriggers);

					// Always display first page first to the user
					this.triggersForPage = this.getElementsToShowInTable(1, this.maxTriggersPerPage, this.triggersForPage, this.filteredTriggers);
				},

				filterDataStreamToDisplay: function () {
					console.log("Entering filterDataStreamToDisplay ");
					console.log("dataStreamFilter: " + this.dataStreamFilter);

			    	this.intermediateDataStreams = []; // siempre vacÃ­o el intermedio

					// check if contains a valid value
					if(this.dataStreamFilter != undefined){ // uso uno intermedio para recien cambiar el array principal cuando haya identificado todos los triggers que tienen que ser mostrados

			      		// get the amount of existing triggers
			      		amountOfDataStreams = this.dataStreamsConfigured.length;

			      		for(i=0; i<amountOfDataStreams; i++){

			      			//check Data stream name 
			      			filteredField = this.dataStreamsConfigured[i].name;
			      			this.intermediateDataStreams = this.addElementToFilteredOnes(filteredField, this.dataStreamFilter, this.intermediateDataStreams, this.dataStreamsConfigured[i]);

			      		}

			      		if(this.intermediateDataStreams.length>0){ // si tiene triggers para mostrar
			      			this.filteredDataStreams = this.intermediateDataStreams; // ahora ya podrÃ­a mostrar todos los filtrados
			      		}else{
			      			this.filteredDataStreams = [];
			      		} 		

			      	}else{
						// copy all the existing triggers, no filtering
						this.filteredDataStreams =this.dataStreamsConfigured;
					}

					// log all the triggers that are filtered
					for(c=0; c<this.filteredDataStreams.length; c++){
						console.log("ELEM ["+c+"]: " + this.filteredDataStreams[c].name);
					}

					// Set the pages needed to show the filtered triggers
					this.pagesNeededForDataStreams = this.getPagesNeeded(this.filteredDataStreams, this.maxDataStreamsPerPage);
					console.log(" pagesNeededForDataStreams " + this.pagesNeededForDataStreams);

					// Always display first page first to the user
					this.dataStreamsForPage = this.getElementsToShowInTable(1, this.maxDataStreamsPerPage, this.dataStreamsForPage, this.filteredDataStreams);
				},
				// assumes all elements are identified by its name
				addElementToFilteredOnes: function(param, filter, existingElems, elem){
					console.log("param: " + param);
					console.log("filter: " + filter);
					console.log("existingElems: " + existingElems);
					console.log("elem: " + elem);

					var alreadyAdded = false;
					if (param.indexOf(filter) >= 0 ){

						for(a=0; a<existingElems.length; a++){
							if(existingElems[a].name == elem.name){
								alreadyAdded = true;
								break;
							}
						}
						console.log("alreadyAdded: "  +alreadyAdded);
						if(!alreadyAdded){
							existingElems.push(elem);  
						}
						console.log("existingElems: " + existingElems);
					}   				

					return existingElems; // FIXME: Checkear si puedo no retornar y pasar por parametro.
				},

				displayPrevPage: function(maxPerPage, elementsInCurrentPage, allElements){
					console.log("Entering displayPrevPage");
					this.currentPage -= 1;			
					//this.triggersForPage = this.getElementsToShowInTable(this.currentPage, this.maxTriggersPerPage, this.triggersForPage, this.filteredTriggers);
					return this.getElementsToShowInTable(this.currentPage, maxPerPage, elementsInCurrentPage, allElements);

				},

				displayNextPage: function(maxPerPage, elementsInCurrentPage, allElements){
					console.log("Entering displayNextPage");
					this.currentPage += 1;
					//this.triggersForPage = this.getElementsToShowInTable(this.currentPage, this.maxTriggersPerPage, this.triggersForPage, this.filteredTriggers);
					return this.getElementsToShowInTable(this.currentPage, maxPerPage, elementsInCurrentPage, allElements);

				},

				getElementsToShowInTable: function(pageNumber, maxPerPage, elementsInCurrentPage, allElements){
					console.log("Entering getElementsToShowInTable");
					console.log("pageNumber:" + pageNumber);
					console.log("maxPerPage:" + maxPerPage);
					console.log("elementsInCurrentPage:" + elementsInCurrentPage);
					console.log("allElements:" + allElements);

					this.currentPage = pageNumber;
					console.log("currentPage: "  + this.currentPage);

					elementsInCurrentPage=[];

					for (i=(this.currentPage-1)*maxPerPage; i<this.currentPage*maxPerPage; i++){

						if(allElements[i] != undefined){
							elementsInCurrentPage.push(allElements[i]);
							console.log("elementsInCurrentPage length " + elementsInCurrentPage.length);
						}
					}
					return elementsInCurrentPage;
				},

				getPagesNeeded: function(allExistingElements, maxPerPage){
					console.log(" Existing elements length: " + allExistingElements.length);
					console.log(" MaxPerPage: " + maxPerPage);
					pagesNeeded = allExistingElements.length / maxPerPage;
					console.log(" pagesNeeded " + pagesNeeded);

					// if number is int, that's it
					if(pagesNeeded % 1 === 0){
						return pagesNeeded;
					}
					else{ 
						// if not, we need the next since at least one element will be shown on the 'n' page
						return Math.ceil(pagesNeeded);	
					}
				},		

				addOneMoreElemsForActionRequestHeader: function(){ /* http://jsbin.com/zusokiy/edit?html,js,output  */
					this.activeIdsForHttpRequestHeader.push({
						key: '',
						value: ''
					});
				},

				oneLessElemForActionRequestHeader: function(index){
					this.activeIdsForHttpRequestHeader.splice(index,1);					
				},

				oneLessElemForActionRequestBody: function(index){
					console.log("oneLessElemForActionRequestBody");
					console.log("elemsForActionRequestBody: " + this.elemsForActionRequestBody);
					console.log("activeIdsForHttpRequestBody: " + this.activeIdsForHttpRequestBody);

					this.activeIdsForHttpRequestBody.splice(index,1);

					console.log("elemsForActionRequestBody: " + this.elemsForActionRequestBody);
					console.log("activeIdsForHttpRequestBody: " + this.activeIdsForHttpRequestBody);
				},

				addOneMoreElemsForActionRequestBody: function(){
					console.log("addOneMoreElemsForActionRequestBody");
					console.log("activeIdsForHttpRequestBody: " + this.activeIdsForHttpRequestBody);

					this.activeIdsForHttpRequestBody.push({
						key: '',
						value: ''
					});

					console.log("activeIdsForHttpRequestBody: " + this.activeIdsForHttpRequestBody);
				},

				showActionsAddRemoveOptions: function(){
					console.log("this.showActionsOptions : " + this.showActionsOptions);
					this.showActionsOptions = !this.showActionsOptions;
					this.showCommandsOptions = false;
					this.showTriggersOptions = false;
				},
				showCommandsAddRemoveOptions: function(){
					console.log("this.showCommandsOptions : " + this.showCommandsOptions);
					this.showCommandsOptions = !this.showCommandsOptions;
					this.showActionsOptions = false;
					this.showTriggersOptions = false;
				},
				showTriggersAddRemoveOptions: function(){
					console.log("this.showTriggersOptions : " + this.showTriggersOptions);
					this.showTriggersOptions = !this.showTriggersOptions;
					this.showActionsOptions = false;
					this.showCommandsOptions = false;
				},
				dataPointPolicy: function(){
					console.log(this.isTimePeriodPolicy);
					this.isTimePeriodPolicy = false;
					console.log(this.isTimePeriodPolicy);
				},
				timePeriodPolicy: function(){
					console.log(this.isTimePeriodPolicy);
					this.isTimePeriodPolicy = true;
					console.log(this.isTimePeriodPolicy);
				},

				drawPieChart(){	
				    // Drawing the chart for Actions -> FIXME <-
				    var ctx = document.getElementById("actionsChart").getContext('2d');
				    var actionsChart = new Chart(ctx, {
				    	type: 'doughnut',
				    	data: {
				    		labels: ['Action 1', 'Action 2', 'Action 3', 'Action 4', 'Action 5'],
				    		datasets: [{
				    			label: 'Population (millions)',
				    			data: [11, 22, 5, 17, 15],
				    			backgroundColor: ['#FABB3C', '#32D75E','#D02FC0','#EB0524','#848B7A']
				    			/*backgroundColor: ['#3e95cd', '#8e5ea2','#3cba9f','#e8c3b9','#c45850']*/
				    		}]
				    	},
				    	options: {
				    		responsive:true,
				    		cutoutPercentage:75,
				    		maintainAspectRatio: true,
				    		title: {
				    			display: true,
				    			text: 'Most Executed actions (times)'
				    		}
				    	}
				    });
				},

				assignDataStream: function(dS){
					console.log(" Entering assignDataStream function");
					this.selectedDs = dS;
					this.streamWasSelected=true;

					this.getdataStreamInformation(dS);
				},
				showDataStreamView: function(){

					console.log("Entering showDataStreamView ");

					this.renderDashboardView = false;
					this.renderSecurityView = false;
					this.renderActionAddView = false;
					this.renderAboutView = false;
					this.renderTriggerAddView = false;
					this.renderCommandAddView = false;
					this.renderTriggerRemoveView = false;
					this.renderCommandRemoveView = false;
					this.renderActionRemoveView = false;
					this.renderDataStreamView = true;

					// initially you should assume showing all data streams with no fitering
					this.filteredDataStreams = this.dataStreamsConfigured;

					this.pagesNeededForDataStreams = this.getPagesNeeded(this.filteredDataStreams, this.maxDataStreamsPerPage);

					console.log(" pagesNeededForDataStreams " + this.pagesNeededForDataStreams);

					this.dataStreamsForPage = this.getElementsToShowInTable(1, this.maxDataStreamsPerPage, this.dataStreamsForPage, this.filteredDataStreams);

				},
				showSecurityView: function(){
					this.renderDashboardView = false;
					this.renderSecurityView = true;
					this.renderActionAddView = false;
					this.renderAboutView = false;
					this.renderTriggerAddView = false;
					this.renderCommandAddView = false;
					this.renderTriggerRemoveView = false;
					this.renderCommandRemoveView = false;
					this.renderActionRemoveView = false;
					this.renderDataStreamView = false;
				},
				showDashboardView: function(){
					this.renderDashboardView = true;
					this.renderSecurityView = false;
					this.renderActionAddView = false;
					this.renderAboutView = false;
					this.renderTriggerAddView = false;
					this.renderCommandAddView = false;
					this.renderTriggerRemoveView = false;
					this.renderCommandRemoveView = false;
					this.renderActionRemoveView = false;
					this.renderDataStreamView = false;
					this.drawPieChart();
				},
				showActionAddView: function(){
					this.renderDashboardView = false;
					this.renderSecurityView = false;
					this.renderAboutView = false;

					this.renderActionAddView = true;
					this.renderTriggerAddView = false;
					this.renderCommandAddView = false;
					this.renderTriggerRemoveView = false;
					this.renderCommandRemoveView = false;
					this.renderActionRemoveView = false;
					this.renderDataStreamView = false;

					// initially you should assume showing all trigger with no fitering
					this.filteredActions = this.existingActions;

					this.pagesNeededForActions = this.getPagesNeeded(this.filteredActions, this.maxActionsPerPage);

					console.log(" pagesNeededForActions " + this.pagesNeededForActions);

					//this.getElementsToShowInTable(1);
					this.actionsForPage = this.getElementsToShowInTable(1, this.maxActionsPerPage, this.actionsForPage, this.filteredActions);
				},
				showCommandAddView: function(){
					this.renderDashboardView = false;
					this.renderSecurityView = false;
					this.renderAboutView = false;

					this.renderActionAddView = false;
					this.renderTriggerAddView = false;
					this.renderCommandAddView = true;
					this.renderTriggerRemoveView = false;
					this.renderCommandRemoveView = false;
					this.renderActionRemoveView = false;
					this.renderDataStreamView = false;

				},
				showTriggerAddView: function(){
					this.renderDashboardView = false;
					this.renderSecurityView = false;
					this.renderAboutView = false;

					this.renderTriggerAddView = true;
					this.renderActionAddView = false;
					this.renderCommandAddView = false;
					this.renderTriggerRemoveView = false;
					this.renderCommandRemoveView = false;
					this.renderActionRemoveView = false;
					this.renderDataStreamView = false;

					//this.renderOneTimeTrigger = false;

					// initially you should assume showing all trigger with no fitering
					this.filteredTriggers = this.existingTriggers;

					this.pagesNeededForTriggers = this.getPagesNeeded(this.filteredTriggers, this.maxTriggersPerPage);

					console.log(" pagesNeededForTriggers " + this.pagesNeededForTriggers);

					//this.getElementsToShowInTable(1);
					this.triggersForPage = this.getElementsToShowInTable(1, this.maxTriggersPerPage, this.triggersForPage, this.filteredTriggers);
				},
				showAboutView: function(){
					this.renderDashboardView = false;
					this.renderSecurityView = false;
					this.renderActionAddView = false;
					this.renderTriggerAddView = false;
					this.renderAboutView = true;
					this.renderCommandAddView = false;

					this.renderTriggerRemoveView = false;
					this.renderCommandRemoveView = false;
					this.renderActionRemoveView = false;
					this.renderDataStreamView = false;
				},
				showActionRemoveView: function(){
					this.renderDashboardView = false;
					this.renderSecurityView = false;
					this.renderActionAddView = false;
					this.renderTriggerAddView = false;
					this.renderAboutView = false;
					this.renderCommandAddView = false;

					this.renderTriggerRemoveView = false;
					this.renderCommandRemoveView = false;
					this.renderActionRemoveView = true;
					this.renderDataStreamView = false;
				},
				showCommandRemoveView: function(){
					this.renderDashboardView = false;
					this.renderSecurityView = false;
					this.renderActionAddView = false;
					this.renderTriggerAddView = false;
					this.renderAboutView = false;
					this.renderCommandAddView = false;
					this.renderDataStreamView = false;


					this.renderTriggerRemoveView = false;
					this.renderCommandRemoveView = true;
					this.renderActionRemoveView = false;
				},
				showTriggerRemoveView: function(){
					this.renderDashboardView = false;
					this.renderSecurityView = false;
					this.renderActionAddView = false;
					this.renderTriggerAddView = false;
					this.renderAboutView = false;
					this.renderCommandAddView = false;
					this.renderDataStreamView = false;


					this.renderTriggerRemoveView = true;
					this.renderCommandRemoveView = false;
					this.renderActionRemoveView = false;
				},

				getMaxValue: function(dataPoints){
					var max = 0;
					var timestamp = '';

					for(i=0;i<dataPoints.length;i++){
						if(dataPoints[i].value>=max){
							max=dataPoints[i].value;
							timestamp = dataPoints[i].timestamp;
						}
					}
					console.log("Max value = " + max);
					console.log("timestamp = " + timestamp);
					this.maxValue.value = max;
					this.maxValue.timestamp = this.timeDif(timestamp);
				},
				getMinValue: function(dataPoints){
					var min=dataPoints[0].value;
					var timestamp = '';

					for(i=0;i<dataPoints.length;i++){
						if(dataPoints[i].value<=min){
							min=dataPoints[i].value;
							timestamp=dataPoints[i].timestamp;
						}
					}
					console.log("Min value = " + min);
					console.log("timestamp = " + timestamp);
					this.minValue.value = min;
					this.minValue.timestamp = this.timeDif(timestamp);
				},
				getAvgValue: function(){
					var values = this.getDataFromStream();
					var sum=0;
					var length = values.length;
					var avg = 0;

					console.log("values: " + values);
					console.log("length: " + length);

					for(i=0;i<length;i++){
						sum = sum + values[i];						
					}
					avg = sum / length;
					avg = avg.toFixed(2);
					console.log("Sum value = " + sum);
					console.log("Avg = " + avg)

					this.averageValue.value = avg;
					var time = this.getTimeElapsed();

					this.averageValue.timestamp=time;

				},

				getTimeElapsed: function(){
					var length = this.dataStreamInformation.dataPoints.length;
					var time1 = this.dataStreamInformation.dataPoints[0].timestamp;
					var time2 = this.dataStreamInformation.dataPoints[length-1].timestamp;

					console.log("timestamp 1 => " + time1); // "October 7, 2017 18:15:28 {(GMT-03:00) Local Time}"
					console.log("timestamp 2 => " + time2);

					var subs1 = time1.substring(0, 25); // "October 7, 2017 18:15:28
					var subs2 = time2.substring(0, 25); // "October 7, 2017 18:15:28

					console.log("subs1: " + subs1);
					console.log("subs2: " + subs2);

					var date1 = moment(subs1, 'MMM DD, YYYY hh:mm:ss').toDate();
					var date2 = moment(subs2, 'MMM DD, YYYY hh:mm:ss').toDate();

					console.log("date1 = " + date1);
					console.log("date2 = " + date2);

					console.log("RESPONSE IS ==> " + this.timeDif(time1));

					var minsElapsed = ((date2.getTime() - date1.getTime() ) / 1000) / 60;

					console.log( "Mins Elapsed: " + minsElapsed);
					return minsElapsed;
				},

				timeDif: function(dataPointTimestamp){

					var subs1 = dataPointTimestamp.substring(0, 25);

					expresion = /\(([^)]+)\)/; // GMT-03:00
					result = expresion.exec(dataPointTimestamp)
					console.log("regex: " + result[1]);

					hrs = result[1].substring(4,6);
					sign = result[1].substring(3,4);
					mins = result[1].substring(7,9);

					console.log("hh: " + hrs);
					console.log("signus: " + sign);
					console.log("mm: " + mins);


					var clientTimeIso8601 = moment().toISOString(); // te tira la hora del Cliente en UTC (que es GMT a secas)-Ej: '2018-05-09T00:52:46.404Z'


					dateSetUp = subs1 + ' ' + sign + hrs + mins;

					serverTimeInUtc = moment(dateSetUp).utc().format("YYYY-MM-DDTHH:mm:ss");

					console.log("###################################");

					console.log("ISO 8601 String: " + clientTimeIso8601); 

					console.log("server Time in UTC: " + serverTimeInUtc); 
					serverTimeInUtcString = String(serverTimeInUtc);
					clientTimeIso8601String = String(clientTimeIso8601);
					console.log("serverTimeInUtc [String]: " + serverTimeInUtcString); 
					console.log("clientTimeIso8601 [String]: " + clientTimeIso8601String); 

					clientTimeIso8601String = clientTimeIso8601String.substring(0, clientTimeIso8601String.length - 5); // Removing trailing '.msmsmsZ'

					console.log("clientTimeIso8601 cleaned [String]: " + clientTimeIso8601String); 

					var diff = moment(clientTimeIso8601String).diff(moment(serverTimeInUtcString));

					var duration = moment.duration(diff);

					durationMillis = duration.milliseconds();
					durationSeconds = duration.seconds();
					durationMinutes = duration.minutes();
					durationHours = duration.hours();
					durationMonths = duration.months();
					durationDays = duration.days();
					durationYears = duration.years();

					console.log("millis: " + durationMillis);
					console.log("secs: " + durationSeconds);
					console.log("mins: " + durationMinutes);
					console.log("hours: " + durationHours);
					console.log("days: " + Math.floor(duration.asDays())/*durationDays*/);
					console.log("months: " + durationMonths);
					console.log("years: " + durationYears);
					console.log("###################################");

					durationDays = Math.floor(duration.asDays());


					/*if(durationMonths>0){
						return durationMonths+' mths, '+durationDays+' days, '+durationHours+' hours, '+durationMinutes+' mins, '+durationSeconds+' secs ago.';
					}else{*/
						if(durationDays>0){
							return durationDays+' days';//+durationHours+' hours, '+durationMinutes+' mins, '+durationSeconds+' secs';
						}else{
							if(durationHours>0){
								return durationHours+' hours';//+durationMinutes+' mins, '+durationSeconds+' secs';
							}else{
								if(durationMinutes>0){
									return durationMinutes+' mins';//+durationSeconds+' secs';
								}else{
									return durationSeconds+' secs';
								}
							}
						}
					//}
					
				},

				openNav: function(){
						//this.sideNavStyle.backgroundColor = "rgba(0,0,0,0.4)";
						this.sideNavStyle.backgroundColor = "#111";
						this.sideNavStyle.width = "250px";

						console.log("Width => " + this.sideNavStyle.width);
						console.log("Color => " + this.sideNavStyle.backgroundColor);
					},

					closeNav: function(){
						this.sideNavStyle.backgroundColor = "white";
						this.sideNavStyle.width = "0";


						// Avoiding that next time you open it, some add/remove options are still displayed 
						this.showCommandsOptions = false;
						this.showActionsOptions = false;
						this.showTriggersOptions = false;
					},

					hasToShowStreams: function(){
						console.log("Entering hasToShowStreams function");
						console.log("length = " + this.dataStreams.length);
						return this.dataStreams.length > 0;
					},

					getdataStreamInformation: function(dS){

						this.hasToShowCharAndCards=true;

						console.log("Entering getdataStreamInformation !");
						console.log("dS = " + dS);
						console.log('http://localhost:8090/test/dataStream/' + dS);

						axios.get('http://localhost:8090/test/dataStream/' + dS).then(response => {

							console.log("Response PLain => " + response);
							this.dataStreamInformation = response.data;	
							console.log("[SUCCESS] dataStreamInformation =>>>> " + this.dataStreamInformation);
							console.log("[SUCCESS] dataStreamInformation =>>>> " + this.dataStreamInformation.name);
							console.log("[SUCCESS] dataStreamInformation =>>>> " + this.dataStreamInformation.currentValue);
							console.log("[SUCCESS] dataStreamInformation =>>>> " + this.dataStreamInformation.lastUpdate);
							console.log("[SUCCESS] dataStreamInformation =>>>> " + this.dataStreamInformation.dataPoints);
							console.log("[SUCCESS] dataStreamInformation =>>>> " + this.dataStreamInformation.dataPoints[0]);
							console.log("[SUCCESS] dataStreamInformation =>>>> " + this.dataStreamInformation.dataPoints[0].timestamp);
							console.log("[SUCCESS] dataStreamInformation =>>>> " + this.dataStreamInformation.dataPoints[0].value);
							this.drawStreamChart(dS);

							this.currentValue.value = this.dataStreamInformation.currentValue ;
							this.currentValue.timestamp = this.timeDif(this.dataStreamInformation.lastUpdate);

							this.getAvgValue(this.dataStreamInformation.dataPoints);
							this.getMaxValue(this.dataStreamInformation.dataPoints);
							this.getMinValue(this.dataStreamInformation.dataPoints);

						}, (error) => {
							console.log("[ERROR] " + error);
						})
					},

					getLabelsForChart: function(){
						console.log(" Entering generateLabelsForChart");
						var length = this.dataStreamInformation.dataPoints.length;
						var labels = [];

						for(i=1; i<=length; i++){
							labels.push(i);
						}

						console.log(" Labels generated: " + labels);

						return labels;
					},

					getDataFromStream: function(){
						var dataPoints = this.dataStreamInformation.dataPoints;
						var length = dataPoints.length;
						var values = [];
						for(i=0; i< length; i++){
							values.push(dataPoints[i].value);
						}
						console.log(" Data Points values: " + values);
						return values;
					},

					drawStreamChart: function(dS){

						console.log(" Entering drawStreamChart function!");
						console.log(" Preparing for drawing [" + dS + "] stream!");

						var dataPointsLabels = this.getLabelsForChart();
						var dataPoints = this.getDataFromStream();

					    // Draw the chart using labels and data generated before
					    var ctx = document.getElementById('streamCanvas').getContext('2d');
					    var myChart = new Chart(ctx, {
					    	type: 'line',
					    	data: {
					    		labels: dataPointsLabels,
					    		datasets: [
					    		{
					    			label: dS,
					    			data: dataPoints,
					    			backgroundColor: "#007bff",
					    			pointBackgroundColor: "#007bff",
					    			strokeColor: "#007bff",
					    			pointColor: "#007bff",
					    			pointStrokeColor: "#007bff",
					    			pointHighlightFill: "#007bff",
					    			pointHighlightStroke: "#007bff",
					    		}]
					    	},
					    	options: {
					    		legend: {
					    			display: false
					    		},
					    		tooltips: {
					    			callbacks: {
					    				label: function(tooltipItem) {
					    					return tooltipItem.yLabel;
					    				}
					    			}
					    		},
					    		responsive: true,
					    		title: false,/*
					    		title: {
					    			display: false,	
					    		},*/					    		
					    		scales: {
					    			yAxes: [{
					    				display:false,
					    				ticks: {
					    					beginAtZero:false
					    				},
					    				gridLines:{
					    					display:false
					    				}
					    			}],
					    			xAxes: [{
			            //display:false,
			            ticks: {
			            	beginAtZero:false
			            },
			            gridLines:{
			            	display:false
			            }       }]     }  }  });
					}
				}
			});

		</script>

	</body>
	</html>